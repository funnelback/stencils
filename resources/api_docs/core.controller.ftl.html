

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />

    <link rel="stylesheet" href="style/style.css" type="text/css" />

    <title>Documentation for core.controller.ftl</title>

    <style>
        div.sourcecode {
            display: none;
            border : 1px solid Black;
            background-color : #DDDDDD; /* #E8E8E8; */
            padding : 3px;
            margin-top : 8px;
        }


        span {font-family:Courier; font-size:12px}
        span.directive {color:blue}
        span.userdirective {color:red}
        span.interpolation {color:green}
        span.textblock {color:black}
        span.comment {color:brown}
    </style>

    <script language="javascript">
        function toggle(id) {
            elem = document.getElementById(id);
            if(elem.style.display=="block") {
                elem.style.display="none";
            } else {
                elem.style.display="block";
            }
        }

        function setTitle() {
            parent.document.title=document.title;
        }
    </script>
</head>

<body class="ftldoc" onLoad="setTitle();">
<div id="content">




<div id="categories">
    <h3>NAVIGATION</h3>
    <ul>
        <li class="category"><a href="overview.html">Overview</a></li>
        <li class="category"><a href="index-all-cat.html">Index (categories)</a></li>
        <li class="category"><a href="index-all-alpha.html">Index (alphabetical)</a></li>
    </ul>
</div>



<h1>core.controller.ftl</h1>
<div id="page-contents">
    <h3>Description</h3><br />
    
         This contains the stardard out of the box macros refactored into Model-View-Control framework required for Stencils. This includes macros from from <code>funnelback_classic.ftl</code> and <code>funnelback.ftl</code>. The <code>core.controller.ftl</code> contains only the application logic. <h2>Table of Contents</h2> <ul> <li><strong>General:</strong> General search helpers.</li> <li><strong>Search forms:</strong> Advanced search form, simple search form ....</li> <li><strong>Sessions:</strong> Favorites/Cart, search history.</li> <li><strong>Facets:</strong> Faceted navigation, search breadcrumbs.</li> <li><strong>Result features:</strong> Search view selectors/formaters, best bets, contextual navigation.</li> <li><strong>Result:</strong> Result helpers e.g. panels ...</li> </ul>
    
    
</div>



<table border="1" cellspacing="0" cellpadding="4">
    <tr>
        <td colspan="2" class="heading">Macro and Function Summary</td>
    </tr>

    
        
            <tr>
                <td colspan="2" class="category">
                
                    Uncategorized
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#AfterSearchOnly">AfterSearchOnly</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Conditional display, content is evaluated only when there are results.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#AuthToken">AuthToken</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Generates an authentication token suitable for click tracking redirection, based on the globally configured <tt>server_secret</tt>.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#boldicize">boldicize</a></strong>
                                </code>
                                
    
        
            <code>bold</code>
        
        
    


                            </dt>
                            <dd>
                                 Wraps words into strong tags.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#cfg">cfg</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Read a configuration parameter.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#cgi">cgi</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Retrieves a cgi parameter value.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#cut">cut</a></strong>
                                </code>
                                
    
        
            <code>cut</code>
        
        
    


                            </dt>
                            <dd>
                                 Cut the left part of a string if it matches the given pattern.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Format">Format</a></strong>
                                </code>
                                
    
        
            <code>args</code>
        
            <code>str</code>
        
            <code>key</code>
        
            <code>locale</code>
        
        
    


                            </dt>
                            <dd>
                                 Formats a string according to a Locale.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#HtmlDecode">HtmlDecode</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Decodes a String from HTML.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#IfDefCGI">IfDefCGI</a></strong>
                                </code>
                                
    
        
            <code>name</code>
        
        
    


                            </dt>
                            <dd>
                                 Conditional display - Runs the nested content if the specified CGI parameter is present.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#IfNotDefCGI">IfNotDefCGI</a></strong>
                                </code>
                                
    
        
            <code>name</code>
        
        
    


                            </dt>
                            <dd>
                                 Conditional display - Runs the nested content if the specified CGI parameter is <em>NOT</em> present.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#IncludeUrl">IncludeUrl</a></strong>
                                </code>
                                
    
        
            <code>url</code>
        
        <code>params</code>
    


                            </dt>
                            <dd>
                                 Includes remote content from an Url.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#InitialFormOnly">InitialFormOnly</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Conditional display - Runs the nested content only when there is no search query.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#italicize">italicize</a></strong>
                                </code>
                                
    
        
            <code>italics</code>
        
        
    


                            </dt>
                            <dd>
                                 Wraps words into emphasis tags.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#OpenSearch">OpenSearch</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Generates an Open Search link.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#OpenSearchTitle">OpenSearchTitle</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the title for a link to the open search page which displays Funnelback search information.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#OpenSearchUrl">OpenSearchUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the url for a link to the open a search page which displays Funnelback search information.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#QueryClean">QueryClean</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Displays the <em>cleaned</em> query.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Results">Results</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Conditional display against results and results looping.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#StripHtml">StripHtml</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Strips html from string.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Truncate">Truncate</a></strong>
                                </code>
                                
    
        
            <code>length</code>
        
        
    


                            </dt>
                            <dd>
                                 Truncate a string on word boundaries.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#TruncateHTML">TruncateHTML</a></strong>
                                </code>
                                
    
        
            <code>length</code>
        
        
    


                            </dt>
                            <dd>
                                 Truncate a string on word boundaries.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#TruncateUrl">TruncateUrl</a></strong>
                                </code>
                                
    
        
            <code>length</code>
        
        
    


                            </dt>
                            <dd>
                                 Truncate an URL in a sensible way.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#UrlEncode">UrlEncode</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Encodes a String in Url format.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Administration</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#AdminUIOnly">AdminUIOnly</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Conditional display - Runs the nested code only if the current session is beign view via an admin server.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Best bets</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#BestBet">BestBet</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables required to display best bets.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#BestBets">BestBets</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Conditional display - Runs the nested code only if best bets are configured and have been triggered.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Blending</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Blending">Blending</a></strong>
                                </code>
                                
    
        
            <code>link</code>
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables for blending.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#BlendingDisabledUrl">BlendingDisabledUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the url which can be used to disable blending.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#BlendingTerms">BlendingTerms</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the terms which have been blended into the results.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Contextual navigation</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ClusterLayout">ClusterLayout</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Runs the nested code of there are contextual navigation clusters.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ClusterNavLayout">ClusterNavLayout</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Displays previously followed clusters.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Clusters">Clusters</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables for clusters by iterating over contextual navigation clusters.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ContextualNavigation">ContextualNavigation</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 <p> Funnelback's contextual navigation engine provides users with a road-sign style navigation panel to rapidly discover all topics related to their search query.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ContextualNavigationCategories">ContextualNavigationCategories</a></strong>
                                </code>
                                
    
        
            <code>name</code>
        
        
    


                            </dt>
                            <dd>
                                 Displays a contextual navigation category.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ContextualNavigationNav">ContextualNavigationNav</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables for contextual navigation by iterating overs previously followed clusters.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#NoClustersFound">NoClustersFound</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Conditional display - Runs the nested code only if there are no presence of clusters.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ShowFewerClusters">ShowFewerClusters</a></strong>
                                </code>
                                
    
        
            <code>category</code>
        
        
    


                            </dt>
                            <dd>
                                 Conditional display - Runs the nested code if there is a less link available for the current contextual navigation cluster.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ShowMoreClusters">ShowMoreClusters</a></strong>
                                </code>
                                
    
        
            <code>category</code>
        
        
    


                            </dt>
                            <dd>
                                 Conditional display - Runs the nested code if there is a more link available for the current contextual navigation cluster.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Curator</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#CuratorExhibit">CuratorExhibit</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables to display exhibits.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#CuratorExhibits">CuratorExhibits</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Conditional display - Runs the nested code only when exhibits have been defined.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#CuratorExhibitsMessageHtml">CuratorExhibitsMessageHtml</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the message belonging to the the exhibit.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Error handling</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Error">Error</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Conditional display - Runs the nested code only if there are errors to be displayed <p>Displays the error to the user and the technical message in an <code>HTML</code> comment + JS console.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ErrorDefaultMessage">ErrorDefaultMessage</a></strong>
                                </code>
                                
    
        
            <code>showAlways</code>
        
        
    


                            </dt>
                            <dd>
                                 Prints the default message for miscellaneous errors.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ErrorOther">ErrorOther</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables required to display the miscellaneous errors.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ErrorOtherAdditionalMessage">ErrorOtherAdditionalMessage</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the additional message for miscellaneous errors.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ErrorOtherCause">ErrorOtherCause</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the cause for miscellaneous errors.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ErrorOtherReason">ErrorOtherReason</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the reason for miscellaneous errors.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ErrorPadre">ErrorPadre</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the name space variables required to display the padre errors
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ErrorPadreAdminMessage">ErrorPadreAdminMessage</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the admin message for padre errors.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ErrorPadreCode">ErrorPadreCode</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the error code for padre errors.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ErrorPadreMessage">ErrorPadreMessage</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the message for padre errors .
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Explore</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Explore">Explore</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variable required to create an "explore" link for a search result.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ExploreUrl">ExploreUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the url for explore links.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Extra searches</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ExtraResults">ExtraResults</a></strong>
                                </code>
                                
    
        
            <code>name</code>
        
        
    


                            </dt>
                            <dd>
                                 Process results coming from an extra search.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ExtraSearch">ExtraSearch</a></strong>
                                </code>
                                
    
        
            <code>question</code>
        
            <code>collection</code>
        
            <code>query</code>
        
            <code>params</code>
        
        
    


                            </dt>
                            <dd>
                                 Perform an additional search and process results.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Faceted navigation</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Facet">Facet</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables for each individual facet.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetBreadCrumb">FacetBreadCrumb</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables to display the facet breadcrumb which includes nested selected values for hierarchical facets.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetBreadCrumbName">FacetBreadCrumbName</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the name of the current selected facet.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetBreadCrumbUrl">FacetBreadCrumbUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the url of the current selected facet
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetCategories">FacetCategories</a></strong>
                                </code>
                                
    
        
            <code>max</code>
        
            <code>nbCategories</code>
        
            <code>recursionCategories</code>
        
        
    


                            </dt>
                            <dd>
                                 Displays a faceted navigation category.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetCategory">FacetCategory</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables in order to print the facet category values
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetCategoryCount">FacetCategoryCount</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Displays the result count for the current facet category.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetCategoryLabel">FacetCategoryLabel</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the label for the current facet category.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetCategoryUrl">FacetCategoryUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the url for the current facet category.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetDefinition">FacetDefinition</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the definition for the current facet.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetDefinitionHasNext">FacetDefinitionHasNext</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints true if there is a facet definition which follows the current facet definition.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetDefinitionIndex">FacetDefinitionIndex</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the definition index for the current facet.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetedSearch">FacetedSearch</a></strong>
                                </code>
                                
    
        
            <code>negate</code>
        
        
    


                            </dt>
                            <dd>
                                 Conditional display against faceted navigation.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetHasNext">FacetHasNext</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints true indicating if there is facet which follows the current facet.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetIndex">FacetIndex</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the facet index.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetLabel">FacetLabel</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the label for the current facet.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Facets">Facets</a></strong>
                                </code>
                                
    
        
            <code>name</code>
        
            <code>names</code>
        
        
    


                            </dt>
                            <dd>
                                 Displays a facet, a list of facets, or all facets.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetScope">FacetScope</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variable to display the <em>facet scope</em> checkbox.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetScopeParameter">FacetScopeParameter</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the parameter name for the current facet scope.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetSummary">FacetSummary</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables to display the facet summary otherwise known as the facet breadcrumb or list of selected facets.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetSummaryCategoryDefinitions">FacetSummaryCategoryDefinitions</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the categories for the current facet definition.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetSummaryClearCurrentSelectionUrl">FacetSummaryClearCurrentSelectionUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the url for the current facet.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetSummarySelectedCategoryValues">FacetSummarySelectedCategoryValues</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the selected value for the current facet.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FacetValue">FacetValue</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the facet value.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#HasSelectedFacets">HasSelectedFacets</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Conditional Display - Runs the nested code if there is at least one selected facet.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#IsFacetLabel">IsFacetLabel</a></strong>
                                </code>
                                
    
        
            <code>name</code>
        
        
    


                            </dt>
                            <dd>
                                 Display content if facetLabelName matches provided name.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#IsLastFacetBreadCrumb">IsLastFacetBreadCrumb</a></strong>
                                </code>
                                
    
        
            <code>negate</code>
        
        
    


                            </dt>
                            <dd>
                                 Runs the nested code if it is the last facet breadcrumb in the chain.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#NestedFacetBreadCrumb">NestedFacetBreadCrumb</a></strong>
                                </code>
                                
    
        
            <code>categoryDefinitions</code>
        
            <code>selectedCategoryValues</code>
        
        
    


                            </dt>
                            <dd>
                                 Recursively generates the breadcrumbs for a facet.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ShortFacetLabel">ShortFacetLabel</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables to display the facet title or value of the current category.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ShortFacetLabelName">ShortFacetLabelName</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Displays the short facet label for the current facet.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Form choice</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FormChoice">FormChoice</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables required to provide links to collection search forms.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FormChoiceForm">FormChoiceForm</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the name of the form.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FormChoiceForms">FormChoiceForms</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Conditional display - Runs the nested code and exposes the form url and form name if form choices are available <p>The nested content will be evaluated once per form choice.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#FormChoiceUrl">FormChoiceUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the form choice url.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Optimise</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Optimise">Optimise</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables required to generate an &quot;optimise&quot; link to the SEO Auditor (From the admin side only).
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#OptimiseUrl">OptimiseUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the url for the optimise link.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Pagination</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#IsCurrentPage">IsCurrentPage</a></strong>
                                </code>
                                
    
        
            <code>negate</code>
        
        
    


                            </dt>
                            <dd>
                                 Conditional display - Runs the nested code if the current page is selected.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Next">Next</a></strong>
                                </code>
                                
    
        
            <code>link</code>
        
        
    


                            </dt>
                            <dd>
                                 Generates a link to the next page of results.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#NextRanks">NextRanks</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the url for the next pagination button.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#NextUrl">NextUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the url for the next pagination button.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Page">Page</a></strong>
                                </code>
                                
    
        
            <code>numPages</code>
        
            <code>link</code>
        
        
    


                            </dt>
                            <dd>
                                 Generates links to result pages.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#PageNumber">PageNumber</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the page number.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#PageUrl">PageUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the page url
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Pagination">Pagination</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Conditional display - Execute the nested code only if there are more than two pages.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Previous">Previous</a></strong>
                                </code>
                                
    
        
            <code>link</code>
        
        
    


                            </dt>
                            <dd>
                                 Generates a link to the previous page of results.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#PreviousRanks">PreviousRanks</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the rank for the previous pagination button.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#PreviousUrl">PreviousUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Quicklinks</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#QuickLink">QuickLink</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables for each quicklinks.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Quicklinks">Quicklinks</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Conditional display - Runs the nested code only if quick links exists for a result.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#QuickLinkText">QuickLinkText</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the text for the current quick link.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#QuickLinkUrl">QuickLinkUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the url for the current quick link.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>RSS</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#RSS">RSS</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables used to generate RSS links or buttons.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#RSSClassicUrl">RSSClassicUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the classic ui url for the RSS feed
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#RSSModernUrl">RSSModernUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the modern ui url for the RSS feed
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Result collapsing</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Collapsed">Collapsed</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables required to generate a link to show the results that were collapsed for the current result.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#CollapsedApproximateLabel">CollapsedApproximateLabel</a></strong>
                                </code>
                                
    
        
            <code>signature</code>
        
        
    


                            </dt>
                            <dd>
                                 Conditional display - Runs the nested code if only an approximate count is avaialble.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#CollapsedCount">CollapsedCount</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the count for the collapsed result.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#CollapsedLabel">CollapsedLabel</a></strong>
                                </code>
                                
    
        
            <code>signature</code>
        
        
    


                            </dt>
                            <dd>
                                 Conditional display - Runs the nested code if exact count is avaialble.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#CollapsedUrl">CollapsedUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the url for the collapsed result.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Select element</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#CurrentDate">CurrentDate</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Displays the current date and time.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Date">Date</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Displays the last updated date of the collection being searched.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#IsSelectOptionSelected">IsSelectOptionSelected</a></strong>
                                </code>
                                
    
        
            <code>negate</code>
        
        
    


                            </dt>
                            <dd>
                                 Conditional Display - Runs the nested code if the current option is selected.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#Select">Select</a></strong>
                                </code>
                                
    
        
            <code>name</code>
        
            <code>defaultValue</code>
        
            <code>options</code>
        
            <code>range</code>
        
        
    


                            </dt>
                            <dd>
                                 Generates a HTML <code>&lt;select /&gt;</code> tags with options.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#SelectName">SelectName</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the name of the select.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#SelectOptionName">SelectOptionName</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the option name.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#SelectOptions">SelectOptions</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables required for creating select options by iterating through each option that has been provided by the user.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#SelectOptionValue">SelectOptionValue</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the option value.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#SelectSelectedValue">SelectSelectedValue</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the value that has currently been selected.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Sessions</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#ClickHistory">ClickHistory</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Runs the nested code for each click history entry available under sesssions.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#HasClickHistory">HasClickHistory</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Check if the user click history is empty or not.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#HasSearchHistory">HasSearchHistory</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Check if the user search history is empty or not.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#SearchHistory">SearchHistory</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Runs the nested code for each search history entry available under sesssions <p>The content will be evaluated once per search history entry.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Spelling suggestions</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#CheckSpelling">CheckSpelling</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Sets up the namespace variables to display spelling suggestions.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#CheckSpellingText">CheckSpellingText</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the text for the spelling suggestion.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#CheckSpellingUrl">CheckSpellingUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the url for the spelling suggestion.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Syntax tree</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#HasSyntaxTree">HasSyntaxTree</a></strong>
                                </code>
                                
    
        
            <code>negate</code>
        
        
    


                            </dt>
                            <dd>
                                 Conditional Display - Runs the nested code if the Funnelback data model contains data to produce a syntax tree.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#SyntaxTreeSvgs">SyntaxTreeSvgs</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the SVGs used for the syntax tree.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
        
            <tr>
                <td colspan="2" class="category">
                
                    Category <em>Textminer</em>
                
                </td>
            </tr>

            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#TextMiner">TextMiner</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Setups the namespace variables to display Text Mining suggestions.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#TextMinerDefinition">TextMinerDefinition</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the definition for the text miner entry.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#TextMinerEntity">TextMinerEntity</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the entity for the text miner entry.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
                <tr>
                    <td>
                        <code>macro</code>
                    </td>
                    <td>
                        <dl>
                            <dt>
                                <code>
                                    <strong><a href="#TextMinerUrl">TextMinerUrl</a></strong>
                                </code>
                                
    
        
        
    


                            </dt>
                            <dd>
                                 Prints the url for the text miner entry.
                            </dd>
                        </dl>
                    </td>
                </tr>
            
            
        
</table>


<br />


<table border="1" cellpadding="4" cellspacing="0">
    <tr><td colspan="2" class="heading">Macro and Function Detail</td></tr>
</table>


    <dl>
        <dt>
            macro
            <tt><a name="AdminUIOnly">AdminUIOnly</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display - Runs the nested code only if the current session is beign view via an admin server. <p> Executes nested content only if the page is viewed from the Admin UI service (Based on the HTTP port used) </p>
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Administration</dd>
    

                
<dt><a href="javascript:toggle('sc_AdminUIOnly');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_AdminUIOnly">




<span class="directive">&lt;#macro&nbsp;AdminUIOnly&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;isAdminUI(Request)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="AfterSearchOnly">AfterSearchOnly</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display, content is evaluated only when there are results.
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_AfterSearchOnly');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_AfterSearchOnly">




<span class="directive">&lt;#macro&nbsp;AfterSearchOnly&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(response.resultPacket.resultsSummary.totalMatching)??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="AuthToken">AuthToken</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Generates an authentication token suitable for click tracking redirection, based on the globally configured <tt>server_secret</tt>.
            
            <dl>
                
	

                
    

                
    
        <dt><b>Nested</b></dt>
        <dd>Url to generate the token for.</dd>
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_AuthToken');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_AuthToken">




<span class="directive">&lt;#macro&nbsp;AuthToken&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;content&gt;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="directive">&lt;/#assign&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${authToken(content)}</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="BestBet">BestBet</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables required to display best bets. <p> The content will be evaluated once per best bet. </p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>BestBets</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.bestBets}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Best bets</dd>
    

                
<dt><a href="javascript:toggle('sc_BestBet');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_BestBet">




<span class="directive">&lt;#macro&nbsp;BestBet&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;response.resultPacket.bestBets&nbsp;as&nbsp;bestBet&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;bestBet&nbsp;=&nbsp;bestBet&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;bestBet_index&nbsp;=&nbsp;bestBet_index&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;bestBet_has_next&nbsp;=&nbsp;bestBet_has_next&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="BestBets">BestBets</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display - Runs the nested code only if best bets are configured and have been triggered. <p> The best bets mechanism allows you to specify that certain specified URLs should be displayed in the result page whenever a set of trigger words is present in the query. </p> <p> For example you might wish to say that whenever a query containing the words gene and sequencing is submitted, attention should be drawn to the <code>www.dna.com</code> site. </p>
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Best bets</dd>
    

                
<dt><a href="javascript:toggle('sc_BestBets');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_BestBets">




<span class="directive">&lt;#macro&nbsp;BestBets&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(response.resultPacket.bestBets)!?has_content<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;response.resultPacket.bestBets?size&nbsp;&amp;gt;&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Blending">Blending</a></tt>
            
    
        
            <code>link</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables for blending. <p> This macro checks if a query blending occurred and provide a link to cancel it. </p>
            
            <dl>
                
	

                
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.blendingTerms}</code> <br /> <code>${core_controller.blendingDisabledUrl}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Blending</dd>
    

                
<dt><a href="javascript:toggle('sc_Blending');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Blending">




<span class="directive">&lt;#macro&nbsp;Blending&nbsp;link=question.collection.configuration.value('ui.modern.search_link')&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(response.resultPacket.QSups)!?has_content&nbsp;&amp;&amp;&nbsp;response.resultPacket.QSups?size&nbsp;&amp;gt;&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;blendingTerms&nbsp;=&nbsp;&quot;&quot;&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;response.resultPacket.QSups&nbsp;as&nbsp;qsup&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;blendingTerms&nbsp;=&nbsp;blendingTerms&nbsp;+&nbsp;qsup.query&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;qsup_has_next&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;blendingTerms&nbsp;=&nbsp;blendingTerms&nbsp;+&nbsp;&quot;,&nbsp;&quot;&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;blendingTerms&nbsp;=&nbsp;blendingTerms&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;blendingDisabledUrl&nbsp;=&nbsp;&quot;${link}?${QueryString}&amp;amp;qsup=off&quot;&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="BlendingDisabledUrl">BlendingDisabledUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the url which can be used to disable blending.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Blending</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Blending</dd>
    

                
<dt><a href="javascript:toggle('sc_BlendingDisabledUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_BlendingDisabledUrl">




<span class="directive">&lt;#macro&nbsp;BlendingDisabledUrl&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.blendingDisabledUrl)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.blendingDisabledUrl}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="BlendingTerms">BlendingTerms</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the terms which have been blended into the results.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Blending</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Blending</dd>
    

                
<dt><a href="javascript:toggle('sc_BlendingTerms');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_BlendingTerms">




<span class="directive">&lt;#macro&nbsp;BlendingTerms&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.blendingTerms)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.blendingTerms}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="boldicize">boldicize</a></tt>
            
    
        
            <code>bold</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Wraps words into strong tags.
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>bold</code> - The words to boldicize, space separated. If not set it will automatically boldicize the query terms.<br>
			
		</dd>
	

                
    

                
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_boldicize');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_boldicize">




<span class="directive">&lt;#macro&nbsp;boldicize&nbsp;bold=&quot;&quot;&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;content&gt;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="directive">&lt;/#local&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;bold&nbsp;!=&nbsp;&quot;&quot;&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${tagify(&quot;strong&quot;,&nbsp;bold,&nbsp;content)}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Pass&nbsp;the&nbsp;regular&nbsp;expression&nbsp;returned&nbsp;by&nbsp;PADRE&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${tagify(&quot;strong&quot;,&nbsp;response.resultPacket.queryHighlightRegex!,&nbsp;content,&nbsp;true)}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="cfg">cfg</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Read a configuration parameter. <p>Reads a <code>collection.cfg</code> parameter for the current collection being searched and displays it.
            
            <dl>
                
	

                
    

                
    
        <dt><b>Nested</b></dt>
        <dd>Name of the parameter.</dd>
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_cfg');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_cfg">




<span class="directive">&lt;#macro&nbsp;cfg&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;key&gt;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="directive">&lt;/#local&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;key??&nbsp;&amp;&amp;&nbsp;key&nbsp;!=&nbsp;&quot;&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;question.collection.configuration.value(key)??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${question.collection.configuration.value(key)}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="cgi">cgi</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Retrieves a cgi parameter value.
            
            <dl>
                
	

                
    

                
    
        <dt><b>Nested</b></dt>
        <dd>Name of the parameter.</dd>
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_cgi');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_cgi">




<span class="directive">&lt;#macro&nbsp;cgi&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;key&gt;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="directive">&lt;/#local&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;question??<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;question.inputParameterMap??<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;question.inputParameterMap[key]??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Return&nbsp;first&nbsp;element&nbsp;only,&nbsp;to&nbsp;mimic&nbsp;Perl&nbsp;UI&nbsp;behavior&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${question.inputParameterMap[key]?html!}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="CheckSpelling">CheckSpelling</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables to display spelling suggestions. <p> Funnelback's spelling suggestion system has the following features: <ul> <li> It is capable of making suggestions even if all words are correctly spelled. </li> <li> It is not based on standard language-based dictionaries and can make suggestions in non-English and multi-lingual environments. </li> <li> It takes advantage of query context. </li> <li> It will not make suggestions which do not match the collection being searched. </li> <li> It mines suggestions from the document text, document metadata, and external annotations, in order to work in the initial absence of search logs. </li> <li> It learns and improves as users interact with the system. </li> </ul> <p>
            
            <dl>
                
	

                
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.checkSpellingUrl}</code> <br /> <code>${core_controller.checkSpellingText}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Spelling suggestions</dd>
    

                
<dt><a href="javascript:toggle('sc_CheckSpelling');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_CheckSpelling">




<span class="directive">&lt;#macro&nbsp;CheckSpelling&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(question.collection.configuration.value(&quot;spelling_enabled&quot;))!?has_content<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;is_enabled(question.collection.configuration.value(&quot;spelling_enabled&quot;))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;(response.resultPacket.spell.text)!?has_content&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;checkSpellingUrl&nbsp;=&nbsp;&quot;${question.collection.configuration.value('ui.modern.search_link')}?${changeParam(QueryString,&nbsp;'query',&nbsp;response.resultPacket.spell.text?url)?html}&quot;&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;checkSpellingText&nbsp;=&nbsp;response.resultPacket.spell.text&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="CheckSpellingText">CheckSpellingText</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the text for the spelling suggestion.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>CheckSpelling</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Spelling suggestions</dd>
    

                
<dt><a href="javascript:toggle('sc_CheckSpellingText');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_CheckSpellingText">




<span class="directive">&lt;#macro&nbsp;CheckSpellingText&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.checkSpellingText)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.checkSpellingText!}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="CheckSpellingUrl">CheckSpellingUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the url for the spelling suggestion.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>CheckSpelling</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Spelling suggestions</dd>
    

                
<dt><a href="javascript:toggle('sc_CheckSpellingUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_CheckSpellingUrl">




<span class="directive">&lt;#macro&nbsp;CheckSpellingUrl&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.checkSpellingUrl)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.checkSpellingUrl!}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ClickHistory">ClickHistory</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Runs the nested code for each click history entry available under sesssions. <p>The content will be evaluated once per click history entry.</p>
            
            <dl>
                
	

                
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.clickHistory}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Sessions</dd>
    

                
<dt><a href="javascript:toggle('sc_ClickHistory');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ClickHistory">




<span class="directive">&lt;#macro&nbsp;ClickHistory&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;session.clickHistory&nbsp;as&nbsp;clickHistory&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;clickHistory&nbsp;=&nbsp;clickHistory&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ClusterLayout">ClusterLayout</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Runs the nested code of there are contextual navigation clusters. <p> The content will be evaluated only if there are contextual navigation clusters, except if there is only one of the <em>site</em> type. </p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>ContextualNavigation</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.contextualNavigation}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Contextual navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_ClusterLayout');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ClusterLayout">




<span class="directive">&lt;#macro&nbsp;ClusterLayout&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(response.resultPacket.contextualNavigation)!?has_content<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;response.resultPacket.contextualNavigation.categories?size&nbsp;&amp;gt;&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;contextualNavigation&nbsp;=&nbsp;response.resultPacket.contextualNavigation&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;contextualNavigation.categories?size&nbsp;==&nbsp;1&nbsp;&amp;&amp;&nbsp;contextualNavigation.categories[0].name&nbsp;==&nbsp;&quot;site&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;contextualNavigation.categories[0].clusters?size&nbsp;&amp;lt;&nbsp;2&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Do&nbsp;nothing&nbsp;if&nbsp;we&nbsp;only&nbsp;have&nbsp;a&nbsp;site&nbsp;category&nbsp;with&nbsp;only&nbsp;1&nbsp;site&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ClusterNavLayout">ClusterNavLayout</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Displays previously followed clusters.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>ContextualNavigation</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Contextual navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_ClusterNavLayout');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ClusterNavLayout">




<span class="directive">&lt;#macro&nbsp;ClusterNavLayout&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;question??&nbsp;&amp;&amp;&nbsp;question.cnPreviousClusters?size&nbsp;&amp;gt;&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Clusters">Clusters</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables for clusters by iterating over contextual navigation clusters. <p> The content will be evaluated once per contextual navigation cluster. </p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>ContextualNavigationCategories</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.cluster}</code> <br /> <code>${core_controller.cluster_has_next}</code> <br /> <code>${core_controller.cluster_index}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Contextual navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_Clusters');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Clusters">




<span class="directive">&lt;#macro&nbsp;Clusters&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;.namespace.category??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;.namespace.category.clusters&nbsp;as&nbsp;c&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;cluster&nbsp;=&nbsp;c&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;cluster_has_next&nbsp;=&nbsp;c_has_next&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;cluster_index&nbsp;=&nbsp;c_index&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Collapsed">Collapsed</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables required to generate a link to show the results that were collapsed for the current result. <p> Result Collapsing is the ability to collapse similar results into one, when displayed on the search results page. Results are considered similar when: <ul> <li> Their content is identical, or nearly identical (as decided by the query processor) </li> <li> They share one or multiple identical metadata fields </li> </ul> <p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Results</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.collapsedUrl}</code> <br /> <code>${core_controller.collapsedCount}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Result collapsing</dd>
    

                
<dt><a href="javascript:toggle('sc_Collapsed');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Collapsed">




<span class="directive">&lt;#macro&nbsp;Collapsed&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;.namespace.result.collapsed??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;collapsedUrl&nbsp;=&nbsp;&quot;${question.collection.configuration.value('ui.modern.search_link')}?${removeParam(QueryString,&nbsp;['start_rank'])?html}&amp;amp;s=%3F:${.namespace.result.collapsed.signature}&amp;amp;fmo=on&amp;amp;collapsing=off&quot;&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;collapsedCount&nbsp;=&nbsp;.namespace.result.collapsed.count&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="CollapsedApproximateLabel">CollapsedApproximateLabel</a></tt>
            
    
        
            <code>signature</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display - Runs the nested code if only an approximate count is avaialble.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Collapsed</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Result collapsing</dd>
    

                
<dt><a href="javascript:toggle('sc_CollapsedApproximateLabel');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_CollapsedApproximateLabel">




<span class="directive">&lt;#macro&nbsp;CollapsedApproximateLabel&nbsp;signature=&quot;&quot;&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(response.resultPacket.resultsSummary.estimatedCounts)!?has_content&nbsp;&amp;&amp;&nbsp;response.resultPacket.resultsSummary.estimatedCounts&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;signature!?has_content&nbsp;==&nbsp;false&nbsp;||&nbsp;((.namespace.result.collapsed.column)!?has_content&nbsp;&amp;&amp;&nbsp;.namespace.result.collapsed.column&nbsp;==&nbsp;signature)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="CollapsedCount">CollapsedCount</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the count for the collapsed result.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Collapsed</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Result collapsing</dd>
    

                
<dt><a href="javascript:toggle('sc_CollapsedCount');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_CollapsedCount">




<span class="directive">&lt;#macro&nbsp;CollapsedCount&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.collapsedCount)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.collapsedCount}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="CollapsedLabel">CollapsedLabel</a></tt>
            
    
        
            <code>signature</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display - Runs the nested code if exact count is avaialble.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Collapsed</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Result collapsing</dd>
    

                
<dt><a href="javascript:toggle('sc_CollapsedLabel');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_CollapsedLabel">




<span class="directive">&lt;#macro&nbsp;CollapsedLabel&nbsp;signature=&quot;&quot;&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(response.resultPacket.resultsSummary.estimatedCounts)!?has_content&nbsp;==&nbsp;false&nbsp;||&nbsp;response.resultPacket.resultsSummary.estimatedCounts&nbsp;==&nbsp;false&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;signature!?has_content&nbsp;==&nbsp;false&nbsp;||&nbsp;((.namespace.result.collapsed.column)!?has_content&nbsp;&amp;&amp;&nbsp;.namespace.result.collapsed.column&nbsp;==&nbsp;signature)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="CollapsedUrl">CollapsedUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the url for the collapsed result.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Collapsed</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Result collapsing</dd>
    

                
<dt><a href="javascript:toggle('sc_CollapsedUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_CollapsedUrl">




<span class="directive">&lt;#macro&nbsp;CollapsedUrl&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.collapsedUrl)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.collapsedUrl}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ContextualNavigation">ContextualNavigation</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 <p> Funnelback's contextual navigation engine provides users with a road-sign style navigation panel to rapidly discover all topics related to their search query. </p> <p> It is also known as related searches. </p> <p> The content is always evaluated, regardless of the presence of contextual navigation suggestions. </p>
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Contextual navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_ContextualNavigation');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ContextualNavigation">




<span class="directive">&lt;#macro&nbsp;ContextualNavigation&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ContextualNavigationCategories">ContextualNavigationCategories</a></tt>
            
    
        
            <code>name</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Displays a contextual navigation category.
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>name</code> - Name of the category for contextual navigation. Can be <code>type</code>, <code>type</code> or <code>topic</code><br>
			
		</dd>
	

                
    
        <dt><b>Requires</b></dt>
        <dd>ContextualNavigation</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.category}</code> <br /> <code>${core_controller.category_hax_next}</code> <br /> <code>${core_controller.category_index}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Contextual navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_ContextualNavigationCategories');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ContextualNavigationCategories">




<span class="directive">&lt;#macro&nbsp;ContextualNavigationCategories&nbsp;name&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;response.resultPacket.contextualNavigation.categories&nbsp;as&nbsp;c&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;c.name??&nbsp;&amp;&amp;&nbsp;c.name&nbsp;==&nbsp;name&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;category&nbsp;=&nbsp;c&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;category_hax_next&nbsp;=&nbsp;c_has_next&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;category_index&nbsp;=&nbsp;c_index&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;c.name&nbsp;!=&nbsp;&quot;site&quot;&nbsp;||&nbsp;c.clusters?size&nbsp;&amp;gt;&nbsp;1&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ContextualNavigationNav">ContextualNavigationNav</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables for contextual navigation by iterating overs previously followed clusters. <p> The content will be evaluated once per contextual navigation cluster. </p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>ContextualNavigation</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.previousCluster}</code> <br /> <code>${core_controller.previousCluster_index}</code> <br /> <code>${core_controller.previousCluster_has_next}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Contextual navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_ContextualNavigationNav');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ContextualNavigationNav">




<span class="directive">&lt;#macro&nbsp;ContextualNavigationNav&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;question??&nbsp;&amp;&amp;&nbsp;question.cnPreviousClusters?size&nbsp;&amp;gt;&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;question.cnPreviousClusters&nbsp;as&nbsp;cluster&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;previousCluster&nbsp;=&nbsp;cluster&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;previousCluster_index&nbsp;=&nbsp;cluster_index&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;previousCluster_has_next&nbsp;=&nbsp;cluster_has_next&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="CuratorExhibit">CuratorExhibit</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables to display exhibits. <p> The content will be evaluated once per exhibit. </p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>CuratorExhibits</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.curatorExhibitsMessageHtml}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Curator</dd>
    

                
<dt><a href="javascript:toggle('sc_CuratorExhibit');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_CuratorExhibit">




<span class="directive">&lt;#macro&nbsp;CuratorExhibit&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;response.curator.exhibits&nbsp;as&nbsp;exhibit&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;exhibit.messageHtml??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;curatorExhibitsMessageHtml&nbsp;=&nbsp;exhibit.messageHtml&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="CuratorExhibits">CuratorExhibits</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display - Runs the nested code only when exhibits have been defined. <p> Exhibits are individual 'blocks' of information made available for display within search results by the curator system. </p>
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Curator</dd>
    

                
<dt><a href="javascript:toggle('sc_CuratorExhibits');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_CuratorExhibits">




<span class="directive">&lt;#macro&nbsp;CuratorExhibits&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(response.curator.exhibits)!?size&nbsp;&amp;gt;&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="CuratorExhibitsMessageHtml">CuratorExhibitsMessageHtml</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the message belonging to the the exhibit.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>CuratorExhibit</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Curator</dd>
    

                
<dt><a href="javascript:toggle('sc_CuratorExhibitsMessageHtml');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_CuratorExhibitsMessageHtml">




<span class="directive">&lt;#macro&nbsp;CuratorExhibitsMessageHtml&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.curatorExhibitsMessageHtml)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.curatorExhibitsMessageHtml}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="CurrentDate">CurrentDate</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Displays the current date and time.
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Select element</dd>
    

                
<dt><a href="javascript:toggle('sc_CurrentDate');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_CurrentDate">




<span class="directive">&lt;#macro&nbsp;CurrentDate&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${currentDate()?datetime?string}</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="cut">cut</a></tt>
            
    
        
            <code>cut</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Cut the left part of a string if it matches the given pattern.
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>cut</code> - Pattern to look for.<br>
			
		</dd>
	

                
    

                
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_cut');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_cut">




<span class="directive">&lt;#macro&nbsp;cut&nbsp;cut&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;cut??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;value&gt;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="directive">&lt;/#local&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${value?replace(&quot;^&quot;+cut,&nbsp;&quot;&quot;,&nbsp;&quot;r&quot;)}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Date">Date</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Displays the last updated date of the collection being searched.
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Select element</dd>
    

                
<dt><a href="javascript:toggle('sc_Date');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Date">




<span class="directive">&lt;#macro&nbsp;Date&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;question??&nbsp;&amp;&amp;&nbsp;question.collection??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;updDate&nbsp;=&nbsp;updatedDate(question.collection.id)!&quot;&quot;&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;updDate?is_date&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${updatedDate(question.collection.id)?datetime?string}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Meta&nbsp;colllection<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Error">Error</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display - Runs the nested code only if there are errors to be displayed <p>Displays the error to the user and the technical message in an <code>HTML</code> comment + JS console.</p>
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Error handling</dd>
    

                
<dt><a href="javascript:toggle('sc_Error');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Error">




<span class="directive">&lt;#macro&nbsp;Error&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;error!?has_content&nbsp;||&nbsp;(response.resultPacket.error)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ErrorDefaultMessage">ErrorDefaultMessage</a></tt>
            
    
        
            <code>showAlways</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the default message for miscellaneous errors.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>ErrorOther</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Error handling</dd>
    

                
<dt><a href="javascript:toggle('sc_ErrorDefaultMessage');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ErrorDefaultMessage">




<span class="directive">&lt;#macro&nbsp;ErrorDefaultMessage&nbsp;showAlways=false&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;showAlways&nbsp;||&nbsp;((.namespace.errorPadreMessage)!?has_content&nbsp;==&nbsp;false<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;(.namespace.errorOtherAdditionalMessage)!?has_content&nbsp;==&nbsp;false)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ErrorOther">ErrorOther</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables required to display the miscellaneous errors.
            
            <dl>
                
	

                
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.errorOtherReason}</code> <br /> <code>${core_controller.errorOtherAdditionalMessage}</code> <br /> <code>${core_controller.errorOtherCause}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Error handling</dd>
    

                
<dt><a href="javascript:toggle('sc_ErrorOther');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ErrorOther">




<span class="directive">&lt;#macro&nbsp;ErrorOther&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Other&nbsp;errors&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;error!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;errorOtherReason&nbsp;=&nbsp;error.reason&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;error.additionalData!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;errorOtherAdditionalMessage&nbsp;=&nbsp;error.additionalData.message&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;errorOtherCause&nbsp;=&nbsp;error.additionalData.cause&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ErrorOtherAdditionalMessage">ErrorOtherAdditionalMessage</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the additional message for miscellaneous errors.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>ErrorOther</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Error handling</dd>
    

                
<dt><a href="javascript:toggle('sc_ErrorOtherAdditionalMessage');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ErrorOtherAdditionalMessage">




<span class="directive">&lt;#macro&nbsp;ErrorOtherAdditionalMessage&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.errorOtherAdditionalMessage)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.errorOtherAdditionalMessage}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ErrorOtherCause">ErrorOtherCause</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the cause for miscellaneous errors.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>ErrorOther</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Error handling</dd>
    

                
<dt><a href="javascript:toggle('sc_ErrorOtherCause');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ErrorOtherCause">




<span class="directive">&lt;#macro&nbsp;ErrorOtherCause&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.errorOtherCause)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.errorOtherCause}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ErrorOtherReason">ErrorOtherReason</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the reason for miscellaneous errors.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>ErrorOther</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Error handling</dd>
    

                
<dt><a href="javascript:toggle('sc_ErrorOtherReason');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ErrorOtherReason">




<span class="directive">&lt;#macro&nbsp;ErrorOtherReason&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.errorOtherReason)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.errorOtherReason}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ErrorPadre">ErrorPadre</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the name space variables required to display the padre errors
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Error</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.errorPadreMessage}</code> <br /> <code>${core_controller.errorPadreCode}</code> <br /> <code>${core_controller.errorPadreAdminMessage}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Error handling</dd>
    

                
<dt><a href="javascript:toggle('sc_ErrorPadre');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ErrorPadre">




<span class="directive">&lt;#macro&nbsp;ErrorPadre&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;PADRE&nbsp;error&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(response.resultPacket.error)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;errorPadreMessage&nbsp;=&nbsp;response.resultPacket.error.userMsg&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;errorPadreCode&nbsp;=&nbsp;response.returnCode&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;errorPadreAdminMessage&nbsp;=&nbsp;response.resultPacket.error.adminMsg&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ErrorPadreAdminMessage">ErrorPadreAdminMessage</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the admin message for padre errors.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>ErrorPadre</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Error handling</dd>
    

                
<dt><a href="javascript:toggle('sc_ErrorPadreAdminMessage');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ErrorPadreAdminMessage">




<span class="directive">&lt;#macro&nbsp;ErrorPadreAdminMessage&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.errorPadreAdminMessage)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.errorPadreAdminMessage}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ErrorPadreCode">ErrorPadreCode</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the error code for padre errors.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>ErrorPadre</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Error handling</dd>
    

                
<dt><a href="javascript:toggle('sc_ErrorPadreCode');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ErrorPadreCode">




<span class="directive">&lt;#macro&nbsp;ErrorPadreCode&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.errorPadreCode)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.errorPadreCode}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ErrorPadreMessage">ErrorPadreMessage</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the message for padre errors .
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>ErrorPadre</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Error handling</dd>
    

                
<dt><a href="javascript:toggle('sc_ErrorPadreMessage');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ErrorPadreMessage">




<span class="directive">&lt;#macro&nbsp;ErrorPadreMessage&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.errorPadreMessage)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.errorPadreMessage}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Explore">Explore</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variable required to create an "explore" link for a search result. <p> Explore links can be used to drill deeper into a particular topic, giving you more focused information on that topic. </p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Results</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.exploreUrl}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Explore</dd>
    

                
<dt><a href="javascript:toggle('sc_Explore');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Explore">




<span class="directive">&lt;#macro&nbsp;Explore&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;exploreUrl&nbsp;=&nbsp;&quot;?&quot;&nbsp;+&nbsp;changeParam(QueryString,&nbsp;&quot;query&quot;,&nbsp;&quot;explore:&quot;&nbsp;+&nbsp;.namespace.result.liveUrl)?html&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ExploreUrl">ExploreUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the url for explore links.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Explore</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Explore</dd>
    

                
<dt><a href="javascript:toggle('sc_ExploreUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ExploreUrl">




<span class="directive">&lt;#macro&nbsp;ExploreUrl&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.exploreUrl)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.exploreUrl!}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ExtraResults">ExtraResults</a></tt>
            
    
        
            <code>name</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Process results coming from an extra search. <p>The extra search needs to be properly configured in <code>collection.cfg</code> for the results to be available.</p> <p>Extra searches are run in parallel of the main query and take advantage of multi-core machines. It's recommended to use it rather than <code>@fb.ExtraSearch</code></p> <p>An example configuration is: <ol> <li> <strong>Create extra search config file</strong> (<code>$SEARCH_HOME/conf/$COLLECTION_NAME/extra_search.<extra search name>.cfg</code>)<br /> <code>collection=&lt;collection name to search&gt;</code><br /> <code>query_processor_options=-num_ranks3</code> </li> <li><strong>Reference extra search config in collection.cfg</strong><br /> <code>ui.modern.extra_searches=&lt;extra search name&gt;</code> </li> <li><strong>Add extra search form code to search template</strong><br /> <pre> &lt;div id=&quot;extraSearch&quot;&gt;<br /> &lt;@fb.ExtraResults name=&quot;&lt;extra search name&gt;&quot;&gt;<br /> &lt;#if response.resultPacket.results?size &lt; 0&gt;<br /> &lt;h3>Related news&gt;/h3&gt;<br /> &lt;#list response.resultPacket.results as result&gt;<br /> &lt;p class=&quot;fb-extra-result&quot;&gt;<br /> ${result.title}<br /> &lt;/p&gt;<br /> &lt;/#list&gt;<br /> &lt;/div&gt;<br /> &lt;/#if&gt;<br /> &lt;/@fb.ExtraResults&gt;<br /> &lt;/div&gt;<br /> </pre> </li> </ol> </p>
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>name</code> - Name of the extra search results to process, as configured in <code>collection.cfg</code>.<br>
			
		</dd>
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Extra searches</dd>
    

                
<dt><a href="javascript:toggle('sc_ExtraResults');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ExtraResults">




<span class="directive">&lt;#macro&nbsp;ExtraResults&nbsp;name&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;extraSearches??&nbsp;&amp;&amp;&nbsp;extraSearches[name]??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;questionBackup&nbsp;=&nbsp;question!{}&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;responseBackup&nbsp;=&nbsp;response!{}&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;error??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;errorBackup&nbsp;=&nbsp;error&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#global&nbsp;question&nbsp;=&nbsp;extraSearches[name].question!{}&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#global&nbsp;response&nbsp;=&nbsp;extraSearches[name].response!{}&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;extraSearches[name].error??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#global&nbsp;error&nbsp;=&nbsp;extraSearches[name].error&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#global&nbsp;question&nbsp;=&nbsp;questionBackup&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#global&nbsp;response&nbsp;=&nbsp;responseBackup&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;errorBackup??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#global&nbsp;error&nbsp;=&nbsp;errorBackup&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;No&nbsp;extra&nbsp;results&nbsp;for&nbsp;'</span><span class="interpolation">${name}</span><span class="textblock">'&nbsp;found&nbsp;--&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ExtraSearch">ExtraSearch</a></tt>
            
    
        
            <code>question</code>
        
            <code>collection</code>
        
            <code>query</code>
        
            <code>params</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Perform an additional search and process results. <p> The data can then be accessed using the standard <code>question</code>, <code>response</code> and <code>error</code> objects from within the tag. </p> <p> Note that the search is run when the tag is actually evaluated. This could impact the overall response time. For this reason it's recommended to use <code>@fb.ExtraResults</code>. </p>
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>question</code> - Initial SearchQuestion, used as a base for parameters.<br>
			
				<code>collection</code> - Name of the collection to search on.<br>
			
				<code>query</code> - Query terms to search for.<br>
			
				<code>params</code> - Map of additional parameters (ex: <code>{&quot;num_ranks&quot; : &quot;3&quot;}</code>).<br>
			
		</dd>
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Extra searches</dd>
    

                
<dt><a href="javascript:toggle('sc_ExtraSearch');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ExtraSearch">




<span class="directive">&lt;#macro&nbsp;ExtraSearch&nbsp;question&nbsp;collection&nbsp;query&nbsp;params={}&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;questionBackup&nbsp;=&nbsp;question!{}&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;responseBackup&nbsp;=&nbsp;response!{}&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;errorBackup&nbsp;=&nbsp;error!{}&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;extra&nbsp;=&nbsp;search(question,&nbsp;collection,&nbsp;query,&nbsp;params)&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#global&nbsp;question&nbsp;=&nbsp;extra.question!{}&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#global&nbsp;response&nbsp;=&nbsp;extra.response!{}&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#global&nbsp;error&nbsp;=&nbsp;extra.error!{}&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#global&nbsp;question&nbsp;=&nbsp;questionBackup&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#global&nbsp;response&nbsp;=&nbsp;responseBackup&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#global&nbsp;error&nbsp;=&nbsp;errorBackup&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Facet">Facet</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables for each individual facet.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Facets</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.facetDefinition}</code> <br /> <code>${core_controller.facetDefinitionIndex}</code> <br /> <code>${core_controller.facetDefinitionHasNext}</code> <br /> <code>${core_controller.facetLabel}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_Facet');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Facet">




<span class="directive">&lt;#macro&nbsp;Facet&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;fn&nbsp;=&nbsp;facetedNavigationConfig(question.collection,&nbsp;question.profile)&nbsp;&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;fn??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find&nbsp;facet&nbsp;definition&nbsp;in&nbsp;the&nbsp;configuration&nbsp;corresponding<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;the&nbsp;facet&nbsp;we're&nbsp;currently&nbsp;displaying<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;fn.facetDefinitions&nbsp;as&nbsp;fdef&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;fdef.name&nbsp;==&nbsp;.namespace.facet.name&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetDefinition&nbsp;=&nbsp;fdef&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetDefinitionIndex&nbsp;=&nbsp;fdef_index&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetDefinitionHasNext&nbsp;=&nbsp;fdef_has_next&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetLabel&nbsp;=&nbsp;facet.name&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetBreadCrumb">FacetBreadCrumb</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables to display the facet breadcrumb which includes nested selected values for hierarchical facets.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FacetSummary</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.facetBreadCrumbUrl}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetBreadCrumb');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetBreadCrumb">




<span class="directive">&lt;#macro&nbsp;FacetBreadCrumb&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Generate&nbsp;the&nbsp;root&nbsp;URL&nbsp;which&nbsp;will&nbsp;remove&nbsp;all&nbsp;the&nbsp;selection&nbsp;for&nbsp;the&nbsp;current&nbsp;facets&nbsp;i.e.&nbsp;A&nbsp;clear&nbsp;all&nbsp;link&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetBreadCrumbUrl&nbsp;=&nbsp;.namespace.facetSummaryClearCurrentSelectionUrl&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="userdirective">&lt;@NestedFacetBreadCrumb&nbsp;categoryDefinitions=.namespace.facetDefinition.categoryDefinitions&nbsp;selectedCategoryValues=question.selectedCategoryValues&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="userdirective">&lt;/@NestedFacetBreadCrumb&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetBreadCrumbName">FacetBreadCrumbName</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the name of the current selected facet.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FacetBreadCrumb, NestedFacetBreadCrumb</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetBreadCrumbName');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetBreadCrumbName">




<span class="directive">&lt;#macro&nbsp;FacetBreadCrumbName&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facetBreadCrumbName)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.facetBreadCrumbName}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetBreadCrumbUrl">FacetBreadCrumbUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the url of the current selected facet
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FacetBreadCrumb, NestedFacetBreadCrumb</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetBreadCrumbUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetBreadCrumbUrl">




<span class="directive">&lt;#macro&nbsp;FacetBreadCrumbUrl&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facetBreadCrumbUrl)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.facetBreadCrumbUrl}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetCategories">FacetCategories</a></tt>
            
    
        
            <code>max</code>
        
            <code>nbCategories</code>
        
            <code>recursionCategories</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Displays a faceted navigation category. <p> For faceted navigation the <tt>max</tt> parameter sets the maximum number of categories to return. If you need to display only a few number of them with a <em>more...</em> link for expansion, you'll need to use Javascript. </p>
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>name</code> - Name of the category for contextual navigation. Can be <code>type</code>, <code>type</code> or <code>topic</code>. Empty for a faceted navigation category.<br>
			
				<code>max</code> - Maximum number of categories to display, for faceted navigation.<br>
			
				<code>nbCategories</code> - (Internal parameter, do not use) Current number of categories displayed (used in recursion for faceted navigation).<br>
			
				<code>recursionCategories</code> - (Internal parameter, do not use) List of categories to process when recursing for faceted navigation).<br>
			
		</dd>
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Facet</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.facetCategory}</code> <br /> <code>${core_controller.facetCategory_has_next}</code> <br /> <code>${core_controller.facetCategory_index}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetCategories');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetCategories">




<span class="directive">&lt;#macro&nbsp;FacetCategories&nbsp;max=16&nbsp;nbCategories=0&nbsp;recursionCategories=[]&nbsp;&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Find&nbsp;if&nbsp;we&nbsp;are&nbsp;working&nbsp;at&nbsp;the&nbsp;root&nbsp;level&nbsp;(facet)&nbsp;or&nbsp;in&nbsp;a&nbsp;sub&nbsp;category&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;recursionCategories??&nbsp;&amp;&amp;&nbsp;recursionCategories?size&nbsp;&amp;gt;&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;categories&nbsp;=&nbsp;recursionCategories&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;categories&nbsp;=&nbsp;.namespace.facet.categories&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;categories??&nbsp;&amp;&amp;&nbsp;categories?size&nbsp;&amp;gt;&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;categories&nbsp;as&nbsp;c&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Store&nbsp;the&nbsp;current&nbsp;facet&nbsp;category&nbsp;so&nbsp;that&nbsp;it&nbsp;can&nbsp;be&nbsp;used&nbsp;by&nbsp;nested&nbsp;functions&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetCategory&nbsp;=&nbsp;c&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetCategory_has_next&nbsp;=&nbsp;c_has_next&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetCategory_index&nbsp;=&nbsp;c_index&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Display&nbsp;the&nbsp;available&nbsp;facet&nbsp;category&nbsp;values&nbsp;for&nbsp;the&nbsp;current&nbsp;facet&nbsp;category.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find&nbsp;if&nbsp;this&nbsp;category&nbsp;has&nbsp;been&nbsp;selected.&nbsp;If&nbsp;it's&nbsp;the&nbsp;case,&nbsp;don't&nbsp;display<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;in&nbsp;the&nbsp;list,&nbsp;except&nbsp;if&nbsp;it's&nbsp;an&nbsp;Url&nbsp;fill&nbsp;facet&nbsp;as&nbsp;we&nbsp;must&nbsp;display&nbsp;sub-folders<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;currently&nbsp;selected&nbsp;folder<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;c.values&nbsp;as&nbsp;cv&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;!&nbsp;question.selectedCategoryValues?keys?seq_contains(urlDecode(cv.queryStringParam?split(&quot;=&quot;)[0]))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||&nbsp;c.queryStringParamName?contains(&quot;|url&quot;)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetCategoryValue&nbsp;=&nbsp;cv&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetCategoryValue_has_next&nbsp;=&nbsp;cv_has_next&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetCategoryValue_index&nbsp;=&nbsp;cv_index&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;nbCategories&nbsp;=&nbsp;nbCategories+1&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;nbCategories&nbsp;&amp;gt;&nbsp;max&gt;</span><span class="directive">&lt;#return&gt;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;display&nbsp;nested&nbsp;categories&nbsp;(hierarchical&nbsp;facets&nbsp;-&nbsp;facet&nbsp;categories&nbsp;themselves&nbsp;can&nbsp;have&nbsp;facet&nbsp;categories)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facetCategory.categories)!?has_content&nbsp;&amp;&amp;&nbsp;.namespace.facetCategory.categories?size&nbsp;&amp;gt;&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="userdirective">&lt;@FacetCategories&nbsp;recursionCategories=.namespace.facetCategory.categories&nbsp;max=max&nbsp;nbCategories=nbCategories&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="userdirective">&lt;/@FacetCategories&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetCategory">FacetCategory</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables in order to print the facet category values
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FacetCategories</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.facetCategoryUrl}</code> <br /> <code>${core_controller.facetCategoryLabel}</code> <br /> <code>${core_controller.facetCategoryCount}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetCategory');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetCategory">




<span class="directive">&lt;#macro&nbsp;FacetCategory&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;.namespace.facetCategoryValue??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;paramName&nbsp;=&nbsp;.namespace.facetCategoryValue.queryStringParam?split(&quot;=&quot;)[0]&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetCategoryUrl&nbsp;=&nbsp;&quot;${question.collection.configuration.value('ui.modern.search_link')}?${removeParam(facetScopeRemove(QueryString,&nbsp;paramName),&nbsp;['start_rank',&nbsp;paramName])?html}&amp;amp;${.namespace.facetCategoryValue.queryStringParam?html}&quot;&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetCategoryLabel&nbsp;=&nbsp;.namespace.facetCategoryValue.label&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetCategoryCount&nbsp;=&nbsp;.namespace.facetCategoryValue.count&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetCategoryCount">FacetCategoryCount</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Displays the result count for the current facet category.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FacetCategories</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetCategoryCount');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetCategoryCount">




<span class="directive">&lt;#macro&nbsp;FacetCategoryCount&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facetCategoryCount)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.facetCategoryCount}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetCategoryLabel">FacetCategoryLabel</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the label for the current facet category.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FacetCategories</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetCategoryLabel');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetCategoryLabel">




<span class="directive">&lt;#macro&nbsp;FacetCategoryLabel&nbsp;&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facetCategoryLabel)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.facetCategoryLabel}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetCategoryUrl">FacetCategoryUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the url for the current facet category.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FacetCategories</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetCategoryUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetCategoryUrl">




<span class="directive">&lt;#macro&nbsp;FacetCategoryUrl&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facetCategoryUrl)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.facetCategoryUrl}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetDefinition">FacetDefinition</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the definition for the current facet.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Facet</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetDefinition');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetDefinition">




<span class="directive">&lt;#macro&nbsp;FacetDefinition&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facetDefinition)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.facetDefinition}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetDefinitionHasNext">FacetDefinitionHasNext</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints true if there is a facet definition which follows the current facet definition. <p>Else prints false when there is no facet definition<p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Facet</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetDefinitionHasNext');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetDefinitionHasNext">




<span class="directive">&lt;#macro&nbsp;FacetDefinitionHasNext&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facetDefinitionHasNext)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.facetDefinitionHasNext}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetDefinitionIndex">FacetDefinitionIndex</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the definition index for the current facet.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Facet</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetDefinitionIndex');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetDefinitionIndex">




<span class="directive">&lt;#macro&nbsp;FacetDefinitionIndex&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facetDefinitionIndex)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.facetDefinitionIndex}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetedSearch">FacetedSearch</a></tt>
            
    
        
            <code>negate</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display against faceted navigation. <p> The content will be evaluated only if faceted navigation is configured. </p>
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>negate</code> - Whether to negate the tag, i.e. evaluate the content if faceted navigation is not configured.<br>
			
		</dd>
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetedSearch');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetedSearch">




<span class="directive">&lt;#macro&nbsp;FacetedSearch&nbsp;negate=false&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;!negate&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;question??<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;facetedNavigationConfig(question.collection,&nbsp;question.profile)??&nbsp;&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;!question??<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||&nbsp;!facetedNavigationConfig(question.collection,&nbsp;question.profile)??&nbsp;&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetHasNext">FacetHasNext</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints true indicating if there is facet which follows the current facet.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Facets</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetHasNext');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetHasNext">




<span class="directive">&lt;#macro&nbsp;FacetHasNext&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facetHasNext)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.facetHasNext}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetIndex">FacetIndex</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the facet index.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Facets</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetIndex');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetIndex">




<span class="directive">&lt;#macro&nbsp;FacetIndex&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facetIndex)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.facetIndex}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetLabel">FacetLabel</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the label for the current facet.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Facet</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetLabel');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetLabel">




<span class="directive">&lt;#macro&nbsp;FacetLabel&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facetDefinitionHasNext)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.facetLabel}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Facets">Facets</a></tt>
            
    
        
            <code>name</code>
        
            <code>names</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Displays a facet, a list of facets, or all facets. <p> If both <code>name</code> and <code>names</code> are not set this tag iterates over all the facets. </p>
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>name</code> - Name of a specific facet to display, optional.<br>
			
				<code>names</code> - A list of specific facets to display, optional. Won't affect facet display order (defined in <code>faceted_navigation.cfg</code>).<br>
			
		</dd>
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FacetedSearch</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.facet}</code> <br /> <code>${core_controller.facetIndex}</code> <br /> <code>${core_controller.facetHasNext}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_Facets');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Facets">




<span class="directive">&lt;#macro&nbsp;Facets&nbsp;name=&quot;&quot;&nbsp;names=[]&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;response??&nbsp;&amp;&amp;&nbsp;response.facets??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;name&nbsp;==&nbsp;&quot;&quot;&nbsp;&amp;&amp;&nbsp;names?size&nbsp;==&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Iterate&nbsp;over&nbsp;all&nbsp;facets&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;response.facets&nbsp;as&nbsp;f&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;f.hasValues()&nbsp;||&nbsp;question.selectedFacets?seq_contains(f.name)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facet&nbsp;=&nbsp;f&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetIndex&nbsp;=&nbsp;f_index&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetHasNext&nbsp;=&nbsp;f_has_next&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Iterate&nbsp;only&nbsp;over&nbsp;the&nbsp;specified&nbsp;facets&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;response.facets&nbsp;as&nbsp;f&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(f.name&nbsp;==&nbsp;name&nbsp;||&nbsp;names?seq_contains(f.name)&nbsp;)&nbsp;&amp;&amp;&nbsp;(f.hasValues()&nbsp;||&nbsp;question.selectedFacets?seq_contains(f.name))&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facet&nbsp;=&nbsp;f&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetIndex&nbsp;=&nbsp;f_index&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetHasNext&nbsp;=&nbsp;f_has_next&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetScope">FacetScope</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variable to display the <em>facet scope</em> checkbox. <p> Provides a means to constrain search to the currently selected facet(s) only. </p>
            
            <dl>
                
	

                
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.facetScopeParameter}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetScope');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetScope">




<span class="directive">&lt;#macro&nbsp;FacetScope&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="userdirective">&lt;@AfterSearchOnly&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;question??&nbsp;&amp;&amp;&nbsp;question.selectedCategoryValues?size&nbsp;&amp;gt;&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;facetScope&nbsp;=&nbsp;&quot;&quot;&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;question.selectedCategoryValues?keys&nbsp;as&nbsp;key&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;question.selectedCategoryValues[key]&nbsp;as&nbsp;value&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;facetScope&nbsp;=&nbsp;facetScope&nbsp;+&nbsp;key?url+&quot;=&quot;+value?url&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;value_has_next&gt;</span><span class="directive">&lt;#local&nbsp;facetScope&nbsp;=&nbsp;facetScope&nbsp;+&nbsp;&quot;&amp;&quot;&nbsp;/&gt;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;key_has_next&gt;</span><span class="directive">&lt;#local&nbsp;facetScope&nbsp;=&nbsp;facetScope&nbsp;+&nbsp;&quot;&amp;&quot;&nbsp;/&gt;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Expose&nbsp;the&nbsp;generated&nbsp;facet&nbsp;scope&nbsp;parameter&nbsp;and&nbsp;run&nbsp;the&nbsp;nested&nbsp;code&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetScopeParameter&nbsp;=&nbsp;facetScope&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="userdirective">&lt;/@AfterSearchOnly&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetScopeParameter">FacetScopeParameter</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the parameter name for the current facet scope.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FacetScope</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetScopeParameter');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetScopeParameter">




<span class="directive">&lt;#macro&nbsp;FacetScopeParameter&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facetScopeParameter)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.facetScopeParameter}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetSummary">FacetSummary</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables to display the facet summary otherwise known as the facet breadcrumb or list of selected facets.
            
            <dl>
                
	

                
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.facetSummaryCategoryDefinitions}</code> <br /> <code>${core_controller.facetSummarySelectedCategoryValues}</code> <br /> <code>${core_controller.facetSummaryClearCurrentSelectionUrl}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetSummary');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetSummary">




<span class="directive">&lt;#macro&nbsp;FacetSummary&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;must&nbsp;test&nbsp;various&nbsp;combinations&nbsp;here&nbsp;as&nbsp;different&nbsp;browsers&nbsp;will&nbsp;encode<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;some&nbsp;characters&nbsp;differently&nbsp;(i.e.&nbsp;'/'&nbsp;will&nbsp;sometimes&nbsp;be&nbsp;preserved,&nbsp;sometimes<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;encoded&nbsp;as&nbsp;'%2F'<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@requires&nbsp;Facet<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetSummaryCategoryDefinitions&nbsp;=&nbsp;.namespace.facetDefinition.categoryDefinitions&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetSummarySelectedCategoryValues&nbsp;=&nbsp;question.selectedCategoryValues&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;QueryString?contains(&quot;f.&quot;&nbsp;+&nbsp;.namespace.facetDefinition.name?url)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||&nbsp;urlDecode(QueryString)?contains(&quot;f.&quot;&nbsp;+&nbsp;.namespace.facetDefinition.name)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||&nbsp;urlDecode(QueryString)?contains(&quot;f.&quot;&nbsp;+&nbsp;.namespace.facetDefinition.name?url)&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetSummaryClearCurrentSelectionUrl&nbsp;=&nbsp;'${question.collection.configuration.value(&quot;ui.modern.search_link&quot;)}?${removeParam(facetScopeRemove(QueryString,&nbsp;.namespace.facetDefinition.allQueryStringParamNames),&nbsp;[&quot;start_rank&quot;]&nbsp;+&nbsp;.namespace.facetDefinition.allQueryStringParamNames)?html}'&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetSummaryCategoryDefinitions">FacetSummaryCategoryDefinitions</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the categories for the current facet definition.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FacetSummary</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetSummaryCategoryDefinitions');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetSummaryCategoryDefinitions">




<span class="directive">&lt;#macro&nbsp;FacetSummaryCategoryDefinitions&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facetSummaryCategoryDefinitions)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.facetSummaryCategoryDefinitions}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetSummaryClearCurrentSelectionUrl">FacetSummaryClearCurrentSelectionUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the url for the current facet.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FacetSummary</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetSummaryClearCurrentSelectionUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetSummaryClearCurrentSelectionUrl">




<span class="directive">&lt;#macro&nbsp;FacetSummaryClearCurrentSelectionUrl&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facetSummaryClearCurrentSelectionUrl)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.facetSummaryClearCurrentSelectionUrl}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetSummarySelectedCategoryValues">FacetSummarySelectedCategoryValues</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the selected value for the current facet.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FacetSummary</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetSummarySelectedCategoryValues');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetSummarySelectedCategoryValues">




<span class="directive">&lt;#macro&nbsp;FacetSummarySelectedCategoryValues&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facetSummarySelectedCategoryValues)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.facetSummarySelectedCategoryValues}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FacetValue">FacetValue</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the facet value.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Facets</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_FacetValue');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FacetValue">




<span class="directive">&lt;#macro&nbsp;FacetValue&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.facet)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.facet}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Format">Format</a></tt>
            
    
        
            <code>args</code>
        
            <code>str</code>
        
            <code>key</code>
        
            <code>locale</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Formats a string according to a Locale. <p>This tag is usually used with internationalisation.</p> <p>Either <tt>key</tt> or <tt>str</tt> must be provided. Using <tt>key</tt> will lookup the corresponding translation key in the data model. Using <tt>str</tt> will format the <tt>str</tt> string directly.</p> <p>When <tt>key</tt> is used, <tt>str</tt> can be used with it as a fallback value if the key is not found in the data model. For example <code>&lt;@fb.Format key=&quot;results&quot; str=&quot;Results for %s&quot; args=[question.query] /&gt;</code> will lookup the key <em>results</em> in the translations. If the key is not present, then the literal string <em>Results for %s</em> will be used instead.</p> <p>See the <em>Modern UI localisation guidelines</em> for more information and examples.</p>
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>locale</code> - The <tt>java.util.Locale</tt> to use, defaults to the current Locale in the <tt>question</tt>.<br>
			
				<code>key</code> - Takes the string to format from the translations in the data model (<tt>response.translations</tt>).<br>
			
				<code>str</code> - Use a literal string instead of a translation key. For example <em>&quot;%d results match the query %s&quot;</em>. See <tt>java.util.Formatter</tt> for the format specifier documentation.<br>
			
				<code>args</code> - Array of arguments to be formatted, for example <tt>[42, &quot;funnelback&quot;]</tt>.<br>
			
		</dd>
	

                
    

                
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_Format');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Format">




<span class="directive">&lt;#macro&nbsp;Format&nbsp;args=[]&nbsp;str=&quot;&quot;&nbsp;key=&quot;&quot;&nbsp;locale=question.locale&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;key&nbsp;!=&nbsp;&quot;&quot;&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;s&nbsp;=&nbsp;response.translations[key]!str&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;s&nbsp;=&nbsp;str&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;args??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${format(locale,&nbsp;s,&nbsp;args)}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${format(locale,&nbsp;s)}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FormChoice">FormChoice</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables required to provide links to collection search forms. <p> This will iterate over every existing search forms for the current collection and display a link to access every one of them. </p>
            
            <dl>
                
	

                
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.formChoiceForms}</code> <br /> <code>${core_controller.formChoiceUrl}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Form choice</dd>
    

                
<dt><a href="javascript:toggle('sc_FormChoice');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FormChoice">




<span class="directive">&lt;#macro&nbsp;FormChoice&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(question.collection)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;formChoiceForms&nbsp;=&nbsp;formList(question.collection.id,&nbsp;question.profile)&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;formChoiceUrl&nbsp;=&nbsp;question.collection.configuration.value(&quot;ui.modern.search_link&quot;)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&quot;?collection=&quot;&nbsp;+&nbsp;question.collection.id<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&quot;&amp;amp;profile=&quot;&nbsp;+&nbsp;question.profile&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FormChoiceForm">FormChoiceForm</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the name of the form.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FormChoice</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Form choice</dd>
    

                
<dt><a href="javascript:toggle('sc_FormChoiceForm');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FormChoiceForm">




<span class="directive">&lt;#macro&nbsp;FormChoiceForm&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.formChoiceForm)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.formChoiceForm}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FormChoiceForms">FormChoiceForms</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display - Runs the nested code and exposes the form url and form name if form choices are available <p>The nested content will be evaluated once per form choice.</p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FormChoice</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.formChoiceForm}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Form choice</dd>
    

                
<dt><a href="javascript:toggle('sc_FormChoiceForms');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FormChoiceForms">




<span class="directive">&lt;#macro&nbsp;FormChoiceForms&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.formChoiceForms)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;formChoiceForms&nbsp;as&nbsp;form&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Ensure&nbsp;we&nbsp;do&nbsp;not&nbsp;print&nbsp;the&nbsp;current&nbsp;form&nbsp;or&nbsp;any&nbsp;backups&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;form&nbsp;!=&nbsp;question.form&nbsp;&amp;&amp;&nbsp;!form?matches(&quot;^.*-\\d{12}$&quot;)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;formChoiceForm&nbsp;=&nbsp;form&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="FormChoiceUrl">FormChoiceUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the form choice url.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FormChoice</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Form choice</dd>
    

                
<dt><a href="javascript:toggle('sc_FormChoiceUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_FormChoiceUrl">




<span class="directive">&lt;#macro&nbsp;FormChoiceUrl&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.formChoiceUrl)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.formChoiceUrl}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="HasClickHistory">HasClickHistory</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Check if the user click history is empty or not. Writes 'true' if it is, 'false' otherwise.
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Sessions</dd>
    

                
<dt><a href="javascript:toggle('sc_HasClickHistory');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_HasClickHistory">




<span class="directive">&lt;#macro&nbsp;HasClickHistory&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;session??&nbsp;&amp;&amp;&nbsp;session.clickHistory?size&nbsp;&amp;gt;&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;false<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="HasSearchHistory">HasSearchHistory</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Check if the user search history is empty or not. Writes 'true' if it is, 'false' otherwise.
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Sessions</dd>
    

                
<dt><a href="javascript:toggle('sc_HasSearchHistory');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_HasSearchHistory">




<span class="directive">&lt;#macro&nbsp;HasSearchHistory&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;session??&nbsp;&amp;&amp;&nbsp;session.searchHistory?size&nbsp;&amp;gt;&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;false<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="HasSelectedFacets">HasSelectedFacets</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional Display - Runs the nested code if there is at least one selected facet. <p> Aims to provide a means for the user to unselect facet categories </p>
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_HasSelectedFacets');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_HasSelectedFacets">




<span class="directive">&lt;#macro&nbsp;HasSelectedFacets&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(question.selectedFacets)!?has_content<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;question.selectedFacets?size&nbsp;&amp;gt;&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="HasSyntaxTree">HasSyntaxTree</a></tt>
            
    
        
            <code>negate</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional Display - Runs the nested code if the Funnelback data model contains data to produce a syntax tree. can be to produce a for syntax tree#
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>negate</code> - Set this to true to reverse the logic of this macro. i.e. Runs the code if no data<br>
			
		</dd>
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Syntax tree</dd>
    

                
<dt><a href="javascript:toggle('sc_HasSyntaxTree');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_HasSyntaxTree">




<span class="directive">&lt;#macro&nbsp;HasSyntaxTree&nbsp;negate=false&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;(response.resultPacket.svgs[&quot;syntaxtree&quot;])!?has_content&nbsp;&amp;&amp;&nbsp;negate&nbsp;==&nbsp;false&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#elseif&nbsp;(response.resultPacket.svgs[&quot;syntaxtree&quot;])!?has_content&nbsp;==&nbsp;false&nbsp;&amp;&amp;&nbsp;negate&nbsp;==&nbsp;true&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="HtmlDecode">HtmlDecode</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Decodes a String from HTML.
            
            <dl>
                
	

                
    

                
    
        <dt><b>Nested</b></dt>
        <dd>Content to decode.</dd>
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_HtmlDecode');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_HtmlDecode">




<span class="directive">&lt;#macro&nbsp;HtmlDecode&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;content&gt;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="directive">&lt;/#assign&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${htmlDecode(content)}</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="IfDefCGI">IfDefCGI</a></tt>
            
    
        
            <code>name</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display - Runs the nested content if the specified CGI parameter is present. <p> The nested content will be evaluated only if the desired parameter exists. </p>
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>name</code> - Name of the parameter to test.<br>
			
		</dd>
	

                
    

                
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_IfDefCGI');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_IfDefCGI">




<span class="directive">&lt;#macro&nbsp;IfDefCGI&nbsp;name&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;question??<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;question.inputParameterMap??<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;question.inputParameterMap?keys?seq_contains(name)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="IfNotDefCGI">IfNotDefCGI</a></tt>
            
    
        
            <code>name</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display - Runs the nested content if the specified CGI parameter is <em>NOT</em> present. <p> The nested content will be evaluated only if the desired parameter is <strong>not</strong> set. </p>
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>name</code> - Name of the parameter to test.<br>
			
		</dd>
	

                
    

                
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_IfNotDefCGI');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_IfNotDefCGI">




<span class="directive">&lt;#macro&nbsp;IfNotDefCGI&nbsp;name&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;question??<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;question.inputParameterMap??<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;question.inputParameterMap?keys?seq_contains(name)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="IncludeUrl">IncludeUrl</a></tt>
            
    
        
            <code>url</code>
        
        <code>params</code>
    

            <br /><br />
        </dt>
        <dd>
            
                 Includes remote content from an Url. <p>Content is cached to avoid firing an HTTP request for each search results page.</p>
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>url</code> - : Url to request. This is the only mandatory parameter.<br>
			
				<code>expiry</code> - : Cache time to live, in .namespaceeconds (default = 3600). This is a number so you must pass the parameters without quotes: <tt>expiry=3600</tt>.<br>
			
				<code>start</code> - : Regular expression pattern (Java) marking the beginning of the content to include. Double quotes must be escaped: <tt>start=&quot;start \&quot;pattern\&quot;&quot;</tt>.<br>
			
				<code>end</code> - : Regular expression pattern (Java) marking the end of the content to include. Double quotes must be escaped too.<br>
			
				<code>username</code> - : Username if the remote server requires authentication.<br>
			
				<code>password</code> - : Password if the remote server requires authentication.<br>
			
				<code>useragent</code> - : User-Agent string to use.<br>
			
				<code>timeout</code> - : Time to wait, in .namespaceeconds, for the remote content to be returned.<br>
			
				<code>convertrelative</code> - : Boolean, whether relative links in the included content should be converted to absolute ones.<br>
			
		</dd>
	

                
    

                
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_IncludeUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_IncludeUrl">




<span class="directive">&lt;#macro&nbsp;IncludeUrl&nbsp;url&nbsp;params...&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="userdirective">&lt;@IncludeUrlInternal&nbsp;url=url<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expiry=params.expiry<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start=params.start<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end=params.end<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;username=params.username<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;password=params.password<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;useragent=params.useragent<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timeout=params.timeout<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;convertRelative=params.convertRelative<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;convertrelative=params.convertrelative&nbsp;/&gt;</span><span class="userdirective"></span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="InitialFormOnly">InitialFormOnly</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display - Runs the nested content only when there is no search query.
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_InitialFormOnly');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_InitialFormOnly">




<span class="directive">&lt;#macro&nbsp;InitialFormOnly&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;(response.resultPacket.resultsSummary.totalMatching)??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="IsCurrentPage">IsCurrentPage</a></tt>
            
    
        
            <code>negate</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display - Runs the nested code if the current page is selected.
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>negate</code> - Reverses the logic of this macro. i.e. Runs the nested code if the current page is not selected<br>
			
		</dd>
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Page</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Pagination</dd>
    

                
<dt><a href="javascript:toggle('sc_IsCurrentPage');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_IsCurrentPage">




<span class="directive">&lt;#macro&nbsp;IsCurrentPage&nbsp;negate=false&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;.namespace.pageCurrent&nbsp;==&nbsp;true&nbsp;&amp;&amp;&nbsp;negate==false&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#elseif&nbsp;.namespace.pageCurrent&nbsp;==&nbsp;false&nbsp;&amp;&amp;&nbsp;negate==true&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="IsFacetLabel">IsFacetLabel</a></tt>
            
    
        
            <code>name</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Display content if facetLabelName matches provided name.
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>name</code> - This is the name of the facetLabel to test for.<br>
			
		</dd>
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Facet</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_IsFacetLabel');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_IsFacetLabel">




<span class="directive">&lt;#macro&nbsp;IsFacetLabel&nbsp;name=&quot;&quot;&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;name&nbsp;=&nbsp;core_controller.facetLabel&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="IsLastFacetBreadCrumb">IsLastFacetBreadCrumb</a></tt>
            
    
        
            <code>negate</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Runs the nested code if it is the last facet breadcrumb in the chain.
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>negate</code> - Set this to true to reverse the logic of this macro.<br>
			
		</dd>
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FacetBreadCrumb, NestedFacetBreadCrumb</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_IsLastFacetBreadCrumb');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_IsLastFacetBreadCrumb">




<span class="directive">&lt;#macro&nbsp;IsLastFacetBreadCrumb&nbsp;negate=false&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;facetBreadCrumbLastFlag&nbsp;==&nbsp;true&nbsp;&amp;&amp;&nbsp;negate&nbsp;==&nbsp;false&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#elseif&nbsp;facetBreadCrumbLastFlag&nbsp;==&nbsp;false&nbsp;&amp;&amp;&nbsp;negate&nbsp;==&nbsp;true&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="IsSelectOptionSelected">IsSelectOptionSelected</a></tt>
            
    
        
            <code>negate</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional Display - Runs the nested code if the current option is selected. if the option has not been selected.
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>negate</code> - Set this to true to reverse the logic of this macro. i.e. Run the nested code<br>
			
		</dd>
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Select</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Select element</dd>
    

                
<dt><a href="javascript:toggle('sc_IsSelectOptionSelected');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_IsSelectOptionSelected">




<span class="directive">&lt;#macro&nbsp;IsSelectOptionSelected&nbsp;negate=false&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;.namespace.selectOptionValue&nbsp;==&nbsp;.namespace.selectSelectedValue&nbsp;&amp;&amp;&nbsp;negate&nbsp;==&nbsp;false&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#elseif&nbsp;.namespace.selectOptionValue&nbsp;!=&nbsp;.namespace.selectSelectedValue&nbsp;&amp;&amp;&nbsp;negate&nbsp;==&nbsp;true&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="italicize">italicize</a></tt>
            
    
        
            <code>italics</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Wraps words into emphasis tags.
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>italics</code> - The words to italicize, space separated. If not set it will automatically italicize the query terms.<br>
			
		</dd>
	

                
    

                
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_italicize');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_italicize">




<span class="directive">&lt;#macro&nbsp;italicize&nbsp;italics=&quot;&quot;&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;content&gt;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="directive">&lt;/#local&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;italics&nbsp;!=&nbsp;&quot;&quot;&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${tagify(&quot;em&quot;,&nbsp;italics,&nbsp;content)}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Pass&nbsp;the&nbsp;regular&nbsp;expression&nbsp;returned&nbsp;by&nbsp;PADRE&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${tagify(&quot;em&quot;,&nbsp;response.resultPacket.queryHighlightRegex!,&nbsp;content,&nbsp;true)}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="NestedFacetBreadCrumb">NestedFacetBreadCrumb</a></tt>
            
    
        
            <code>categoryDefinitions</code>
        
            <code>selectedCategoryValues</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Recursively generates the breadcrumbs for a facet. <p> This is an internal macro which should not be called directly from any other templates. </p>
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>categoryDefinitions</code> - List of sub categories (hierarchical).<br>
			
				<code>selectedCategoryValues</code> - List of selected values.<br>
			
		</dd>
	

                
    
        <dt><b>Requires</b></dt>
        <dd>FacetBreadCrumb</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.facetBreadCrumbLastFlag}</code> <br /> <code>${core_controller.facetBreadCrumbName}</code> <br /> <code>${core_controller.facetBreadCrumbUrl}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_NestedFacetBreadCrumb');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_NestedFacetBreadCrumb">




<span class="directive">&lt;#macro&nbsp;NestedFacetBreadCrumb&nbsp;categoryDefinitions&nbsp;selectedCategoryValues&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;categoryDefinitions&nbsp;as&nbsp;def&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;def.class.simpleName&nbsp;==&nbsp;&quot;UrlFill&quot;&nbsp;&amp;&amp;&nbsp;selectedCategoryValues?keys?seq_contains(def.queryStringParamName)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Special&nbsp;case&nbsp;for&nbsp;URL&nbsp;Fill&nbsp;facets:&nbsp;Split&nbsp;on&nbsp;slashes&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;path&nbsp;=&nbsp;selectedCategoryValues[def.queryStringParamName][0]&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;pathBuilding&nbsp;=&nbsp;&quot;&quot;&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;path?split(&quot;/&quot;,&nbsp;&quot;r&quot;)&nbsp;as&nbsp;part&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;pathBuilding&nbsp;=&nbsp;pathBuilding&nbsp;+&nbsp;&quot;/&quot;&nbsp;+&nbsp;part&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Don't&nbsp;display&nbsp;bread&nbsp;crumb&nbsp;for&nbsp;parts&nbsp;that&nbsp;are&nbsp;part&nbsp;of&nbsp;the&nbsp;root&nbsp;Url&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;!&nbsp;def.data?lower_case?matches(&quot;.*[/\\\\]&quot;+part?lower_case+&quot;[/\\\\].*&quot;)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;part&nbsp;needs&nbsp;to&nbsp;be&nbsp;url-decoded&nbsp;to&nbsp;be&nbsp;displayed&nbsp;nicely<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.g.&nbsp;&quot;with&nbsp;spaces&quot;&nbsp;rather&nbsp;than&nbsp;&quot;with%20spaces&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetBreadCrumbName&nbsp;=&nbsp;urlDecode(part)&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;&quot;last&quot;&nbsp;flag&nbsp;signifies&nbsp;if&nbsp;the&nbsp;current&nbsp;selected&nbsp;facet&nbsp;is&nbsp;the&nbsp;last&nbsp;node&nbsp;in&nbsp;the&nbsp;breadcrumb<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Url&nbsp;Fill&nbsp;facets&nbsp;are&nbsp;always&nbsp;the&nbsp;last/leaf&nbsp;node&nbsp;since&nbsp;they&nbsp;cannot&nbsp;have&nbsp;sub&nbsp;facets<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetBreadCrumbLastFlag&nbsp;=&nbsp;true&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;selectedCategoryValues?keys?seq_contains(def.queryStringParamName)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find&nbsp;the&nbsp;label&nbsp;for&nbsp;this&nbsp;category.&nbsp;For&nbsp;nearly&nbsp;all&nbsp;categories&nbsp;the&nbsp;label&nbsp;is&nbsp;equal<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;the&nbsp;value&nbsp;returned&nbsp;by&nbsp;the&nbsp;query&nbsp;processor,&nbsp;but&nbsp;not&nbsp;for&nbsp;date&nbsp;counts&nbsp;for&nbsp;example.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;With&nbsp;date&nbsp;counts&nbsp;the&nbsp;label&nbsp;is&nbsp;the&nbsp;actual&nbsp;year&nbsp;&quot;2003&quot;&nbsp;or&nbsp;a&nbsp;&quot;past&nbsp;3&nbsp;weeks&quot;&nbsp;but&nbsp;the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;the&nbsp;constraint&nbsp;to&nbsp;apply&nbsp;like&nbsp;&quot;d=2003&quot;&nbsp;or&nbsp;&quot;d&gt;12Jun2012&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Use&nbsp;value&nbsp;by&nbsp;default&nbsp;if&nbsp;we&nbsp;can't&nbsp;find&nbsp;a&nbsp;label&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;valueLabel&nbsp;=&nbsp;selectedCategoryValues[def.queryStringParamName][0]&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Iterate&nbsp;over&nbsp;generated&nbsp;facets&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;response.facets&nbsp;as&nbsp;facet&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;def.facetName&nbsp;==&nbsp;facet.name&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Facet&nbsp;located,&nbsp;find&nbsp;current&nbsp;working&nbsp;category&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;fCat&nbsp;=&nbsp;facet.findDeepestCategory([def.queryStringParamName])!&quot;&quot;&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;fCat&nbsp;!=&nbsp;&quot;&quot;&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;fCat.values&nbsp;as&nbsp;catValue&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find&nbsp;the&nbsp;category&nbsp;value&nbsp;for&nbsp;which&nbsp;the&nbsp;query&nbsp;string&nbsp;param<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches&nbsp;the&nbsp;currently&nbsp;selected&nbsp;value<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;kv&nbsp;=&nbsp;catValue.queryStringParam?split(&quot;=&quot;)&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;valueLabel&nbsp;==&nbsp;urlDecode(kv[1])&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;valueLabel&nbsp;=&nbsp;catValue.label&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No&nbsp;need&nbsp;to&nbsp;loop&nbsp;through&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;facet&nbsp;categories&nbsp;as&nbsp;we&nbsp;already&nbsp;found<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;value&nbsp;we&nbsp;need<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#break&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Find&nbsp;if&nbsp;we&nbsp;are&nbsp;processing&nbsp;the&nbsp;last&nbsp;selected&nbsp;value&nbsp;(leaf&nbsp;node)&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;last&nbsp;=&nbsp;true&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;def.allQueryStringParamNames&nbsp;as&nbsp;param&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;param&nbsp;!=&nbsp;def.queryStringParamName&nbsp;&amp;&amp;&nbsp;selectedCategoryValues?keys?seq_contains(param)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;last&nbsp;=&nbsp;false&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#break&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Last&nbsp;flag&nbsp;signifies&nbsp;if&nbsp;the&nbsp;current&nbsp;selected&nbsp;facet&nbsp;is&nbsp;the&nbsp;last&nbsp;node&nbsp;in&nbsp;the&nbsp;breadcrimb&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetBreadCrumbLastFlag&nbsp;=&nbsp;last&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetBreadCrumbName&nbsp;=&nbsp;valueLabel&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;last&nbsp;!=&nbsp;true&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;facetBreadCrumbUrl&nbsp;=&nbsp;'${question.collection.configuration.value(&quot;ui.modern.search_link&quot;)}?${removeParam(facetScopeRemove(QueryString,&nbsp;def.allQueryStringParamNames),&nbsp;[&quot;start_rank&quot;]&nbsp;+&nbsp;def.allQueryStringParamNames)?html}&amp;amp;${def.queryStringParamName}=${selectedCategoryValues[def.queryStringParamName][0]?url}'&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="userdirective">&lt;@NestedFacetBreadCrumb&nbsp;categoryDefinitions=def.subCategories&nbsp;selectedCategoryValues=selectedCategoryValues&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="userdirective">&lt;/@NestedFacetBreadCrumb&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;We've&nbsp;displayed&nbsp;one&nbsp;step&nbsp;in&nbsp;the&nbsp;breadcrumb,&nbsp;no&nbsp;need&nbsp;to&nbsp;inspect&nbsp;other&nbsp;category&nbsp;definitions&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#break&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Next">Next</a></tt>
            
    
        
            <code>link</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Generates a link to the next page of results. <p>Example: <pre>&lt;@fb.Next&gt; &lt;a href="${fb.nextUrl}"&gt;Next ${fb.nextRanks} results&lt;/p&gt;&lt;/@fb.Next&gt; </pre> </p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Pagination</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.nextUrl}</code> <br /> <code>${core_controller.nextRanks}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Pagination</dd>
    

                
<dt><a href="javascript:toggle('sc_Next');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Next">




<span class="directive">&lt;#macro&nbsp;Next&nbsp;link=question.collection.configuration.value(&quot;ui.modern.search_link&quot;)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;response??&nbsp;&amp;&amp;&nbsp;response.resultPacket??&nbsp;&amp;&amp;&nbsp;response.resultPacket.resultsSummary??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;response.resultPacket.resultsSummary.nextStart??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;nextUrl&nbsp;=&nbsp;link&nbsp;+&nbsp;&quot;?&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;changeParam(QueryString,&nbsp;&quot;start_rank&quot;,&nbsp;response.resultPacket.resultsSummary.nextStart)&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;nextRanks&nbsp;=&nbsp;response.resultPacket.resultsSummary.numRanks&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="NextRanks">NextRanks</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the url for the next pagination button.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Next</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Pagination</dd>
    

                
<dt><a href="javascript:toggle('sc_NextRanks');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_NextRanks">




<span class="directive">&lt;#macro&nbsp;NextRanks&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.nextRanks)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.nextRanks}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="NextUrl">NextUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the url for the next pagination button.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Next</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Pagination</dd>
    

                
<dt><a href="javascript:toggle('sc_NextUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_NextUrl">




<span class="directive">&lt;#macro&nbsp;NextUrl&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.nextUrl)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.nextUrl}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="NoClustersFound">NoClustersFound</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display - Runs the nested code only if there are no presence of clusters. <p> The content will be evaluated only if no contextual navigation clusters were found. </p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>ContextualNavigation</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Contextual navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_NoClustersFound');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_NoClustersFound">




<span class="directive">&lt;#macro&nbsp;NoClustersFound&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(response.resultPacket)!?has_content<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;(!response.resultPacket.contextualNavigation??<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||&nbsp;response.resultPacket.contextualNavigation.categories?size&nbsp;==&nbsp;0)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="OpenSearch">OpenSearch</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Generates an Open Search link.
            
            <dl>
                
	

                
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.openSearchUrl}</code></dd>
    

                
    

                
<dt><a href="javascript:toggle('sc_OpenSearch');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_OpenSearch">




<span class="directive">&lt;#macro&nbsp;OpenSearch&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;openSearchUrl&nbsp;=&nbsp;&quot;open-search.xml?${QueryString?html}&quot;&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="OpenSearchTitle">OpenSearchTitle</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the title for a link to the open search page which displays Funnelback search information.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>OpenSearch</dd>
    

                
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_OpenSearchTitle');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_OpenSearchTitle">




<span class="directive">&lt;#macro&nbsp;OpenSearchTitle&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;</span><span class="directive">&lt;#local&nbsp;title&gt;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="directive">&lt;/#local&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;!&nbsp;title??&nbsp;||&nbsp;title&nbsp;==&nbsp;&quot;&quot;&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Search&nbsp;&nbsp;</span><span class="interpolation">${question.collection.configuration.value(&quot;service_name&quot;)}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="OpenSearchUrl">OpenSearchUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the url for a link to the open a search page which displays Funnelback search information.
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_OpenSearchUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_OpenSearchUrl">




<span class="directive">&lt;#macro&nbsp;OpenSearchUrl&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.openSearchUrl)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.openSearchUrl!}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Optimise">Optimise</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables required to generate an &quot;optimise&quot; link to the SEO Auditor (From the admin side only). <p> The SEO Auditor is a tool to help improve the search ranking of a specific page for a specific query. Given a query and a page URL, it lists a series of simple steps that could be taken to improve the ranking of the selected document for that query. </p> <p>SEO Auditor was previously known as Content Auditor.</p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Results</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.optimiseUrl}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Optimise</dd>
    

                
<dt><a href="javascript:toggle('sc_Optimise');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Optimise">




<span class="directive">&lt;#macro&nbsp;Optimise&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="userdirective">&lt;@AdminUIOnly&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;optimiseUrl&nbsp;=&nbsp;&quot;seo-auditor.html?optimiser_url=${.namespace.result.indexUrl}&amp;amp;query=${response.resultPacket.query}&amp;amp;collection=${.namespace.result.collection}&amp;amp;profile=${question.profile}&quot;&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="userdirective">&lt;/@AdminUIOnly&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="OptimiseUrl">OptimiseUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the url for the optimise link.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Optimise</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Optimise</dd>
    

                
<dt><a href="javascript:toggle('sc_OptimiseUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_OptimiseUrl">




<span class="directive">&lt;#macro&nbsp;OptimiseUrl&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.optimiseUrl)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.optimiseUrl}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Page">Page</a></tt>
            
    
        
            <code>numPages</code>
        
            <code>link</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Generates links to result pages. <p>Iterate over the nested content for each available page</p> <p> Three variables will be set in the template: <ul> <li><code><namespace>.pageUrl</code>: Url of the page.</li> <li><code><namespace>.pageCurrent</code>: boolean, whether the current page is the one currently displayed.</li> <li><code><namespace>.pageNumber</code>: Number of the current page.</li> </ul> </p> <p>Example: <pre>&lt;@<namespace>.Page&gt; &lt;#if <namespace>.pageCurrent&gt; ${<namespace>.pageNumber} &lt;#else&gt; &lt;a href="${<namespace>.pageUrl}"&gt;${<namespace>.pageNumber}&lt;/a&gt; &lt;/#if&gt;&lt;/@<namespace>.Page&gt; </pre> </p>
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>numPages</code> - Number of pages links to display (default = 5)<br>
			
		</dd>
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Pagination</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.pageNumber}</code> <br /> <code>${core_controller.pageUrl}</code> <br /> <code>${core_controller.pageCurrent}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Pagination</dd>
    

                
<dt><a href="javascript:toggle('sc_Page');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Page">




<span class="directive">&lt;#macro&nbsp;Page&nbsp;numPages=5&nbsp;link=question.collection.configuration.value(&quot;ui.modern.search_link&quot;)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;rs&nbsp;=&nbsp;response.resultPacket.resultsSummary&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;pages&nbsp;=&nbsp;0&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;rs.fullyMatching??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;rs.fullyMatching&nbsp;&amp;gt;&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;pages&nbsp;=&nbsp;(rs.fullyMatching&nbsp;+&nbsp;rs.partiallyMatching&nbsp;+&nbsp;rs.numRanks&nbsp;-&nbsp;1)&nbsp;/&nbsp;rs.numRanks&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;pages&nbsp;=&nbsp;(rs.totalMatching&nbsp;+&nbsp;rs.numRanks&nbsp;-&nbsp;1)&nbsp;/&nbsp;rs.numRanks&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Event&nbsp;search&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;pages&nbsp;=&nbsp;(rs.totalMatching&nbsp;+&nbsp;rs.numRanks&nbsp;-&nbsp;1)&nbsp;/&nbsp;rs.numRanks&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;currentPage&nbsp;=&nbsp;1&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;rs.currStart&nbsp;&amp;gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;rs.numRanks&nbsp;&amp;gt;&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;currentPage&nbsp;=&nbsp;(rs.currStart&nbsp;+&nbsp;rs.numRanks&nbsp;-1)&nbsp;/&nbsp;rs.numRanks&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;firstPage&nbsp;=&nbsp;1&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;currentPage&nbsp;&amp;gt;&nbsp;((numPages-1)/2)?floor&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;firstPage&nbsp;=&nbsp;currentPage&nbsp;-&nbsp;((numPages-1)/2)?floor&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;firstPage..firstPage+(numPages-1)&nbsp;as&nbsp;pg&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;pg&nbsp;&amp;gt;&nbsp;pages&gt;</span><span class="directive">&lt;#break&nbsp;/&gt;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;pageNumber&nbsp;=&nbsp;pg&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;pageUrl&nbsp;=&nbsp;link&nbsp;+&nbsp;&quot;?&quot;&nbsp;+&nbsp;changeParam(QueryString,&nbsp;&quot;start_rank&quot;,&nbsp;(pg-1)&nbsp;*&nbsp;rs.numRanks+1)&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;pg&nbsp;==&nbsp;currentPage&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;pageCurrent&nbsp;=&nbsp;true&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;pageCurrent&nbsp;=&nbsp;false&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="PageNumber">PageNumber</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the page number.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Page</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Pagination</dd>
    

                
<dt><a href="javascript:toggle('sc_PageNumber');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_PageNumber">




<span class="directive">&lt;#macro&nbsp;PageNumber&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.pageNumber)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.pageNumber}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="PageUrl">PageUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the page url
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Page</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Pagination</dd>
    

                
<dt><a href="javascript:toggle('sc_PageUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_PageUrl">




<span class="directive">&lt;#macro&nbsp;PageUrl&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.pageUrl)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.pageUrl}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Pagination">Pagination</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display - Execute the nested code only if there are more than two pages. <p> Pagination is the process of dividing a document into discrete pages. Generally, we do not wish to create pagination links when there is only one page of results. </p>
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Pagination</dd>
    

                
<dt><a href="javascript:toggle('sc_Pagination');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Pagination">




<span class="directive">&lt;#macro&nbsp;Pagination&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(response.resultPacket.resultsSummary)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;resultsSummary&nbsp;=&nbsp;response.resultPacket.resultsSummary&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;resultsSummary.totalMatching&nbsp;&amp;gt;&nbsp;resultsSummary.numRanks&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Previous">Previous</a></tt>
            
    
        
            <code>link</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Generates a link to the previous page of results. <p>Example: <pre> &lt;@fb.Prev&gt; &lt;a href="${fb.prevUrl}"&gt;Previous ${fb.prevRanks} results&lt;/p&gt;&lt;/@fb.Prev&gt; </pre> </p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Pagination</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.previousUrl}</code> <br /> <code>${core_controller.previousRanks}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Pagination</dd>
    

                
<dt><a href="javascript:toggle('sc_Previous');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Previous">




<span class="directive">&lt;#macro&nbsp;Previous&nbsp;link=question.collection.configuration.value(&quot;ui.modern.search_link&quot;)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;response??&nbsp;&amp;&amp;&nbsp;response.resultPacket??&nbsp;&amp;&amp;&nbsp;response.resultPacket.resultsSummary??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;response.resultPacket.resultsSummary.prevStart??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;previousUrl&nbsp;=&nbsp;link&nbsp;+&nbsp;&quot;?&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;changeParam(QueryString,&nbsp;&quot;start_rank&quot;,&nbsp;response.resultPacket.resultsSummary.prevStart)&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;previousRanks&nbsp;=&nbsp;response.resultPacket.resultsSummary.numRanks&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="PreviousRanks">PreviousRanks</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the rank for the previous pagination button.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Previous</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Pagination</dd>
    

                
<dt><a href="javascript:toggle('sc_PreviousRanks');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_PreviousRanks">




<span class="directive">&lt;#macro&nbsp;PreviousRanks&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.previousRanks)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.previousRanks}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="PreviousUrl">PreviousUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Pagination</dd>
    

                
<dt><a href="javascript:toggle('sc_PreviousUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_PreviousUrl">




<span class="directive">&lt;#macro&nbsp;PreviousUrl&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.previousUrl)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.previousUrl}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="QueryClean">QueryClean</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Displays the <em>cleaned</em> query. <p>The <em>cleaned</em> query contains only query expressions entered by the user, without the one dynamically generated for other purposes like faceted navigation.</p>
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_QueryClean');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_QueryClean">




<span class="directive">&lt;#macro&nbsp;QueryClean&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(response.resultPacket)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${response.resultPacket.queryCleaned!}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="QuickLink">QuickLink</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables for each quicklinks. <p>The content will be evaluated once per quick link.</p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Quicklinks</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.quickLink}</code> <br /> <code>${core_controller.quickLink_index}</code> <br /> <code>${core_controller.quickLink_has_next}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Quicklinks</dd>
    

                
<dt><a href="javascript:toggle('sc_QuickLink');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_QuickLink">




<span class="directive">&lt;#macro&nbsp;QuickLink&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.result.quickLinks.quickLinks)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;.namespace.result.quickLinks.quickLinks&nbsp;as&nbsp;quickLink&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;quickLink&nbsp;=&nbsp;quickLink&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;quickLink_index&nbsp;=&nbsp;quickLink_index&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;quickLink_has_next&nbsp;=&nbsp;quickLink_has_next&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Quicklinks">Quicklinks</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display - Runs the nested code only if quick links exists for a result. <p> The Quick Links feature displays a list of relevant links below the result summary for home page results. These links are displayed whether the result is a top level domain home page <code>(eg. http://www.domain.com/) </code> or a sub home page <code>(eg. http://www.domain.com/news/default.htm)<code>. </p> <p> It provides search users quicker access to specific links contained in home pages without having to visit the home page to find the link. </p> <p> If the result is a top level domain home page, it also allows you to provide an inline search box restricted to this domain. </p> <p> The content will be evaluated only if quicklinks is applicable to the current result. </p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Results</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Quicklinks</dd>
    

                
<dt><a href="javascript:toggle('sc_Quicklinks');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Quicklinks">




<span class="directive">&lt;#macro&nbsp;Quicklinks&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.result.quickLinks)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="QuickLinkText">QuickLinkText</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the text for the current quick link.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Quicklinks</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Quicklinks</dd>
    

                
<dt><a href="javascript:toggle('sc_QuickLinkText');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_QuickLinkText">




<span class="directive">&lt;#macro&nbsp;QuickLinkText&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.quickLink.text)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.quickLink.text!}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="QuickLinkUrl">QuickLinkUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the url for the current quick link.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Quicklinks</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Quicklinks</dd>
    

                
<dt><a href="javascript:toggle('sc_QuickLinkUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_QuickLinkUrl">




<span class="directive">&lt;#macro&nbsp;QuickLinkUrl&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.quickLink.url)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.quickLink.url!}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Results">Results</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display against results and results looping. <p>The content will be evaluated only if there are results, and once per result found.</p> <p> <strong>Note:</strong> This will loop over a list containing a list of TierBar and Result objects, so you need to check the object type in the loop before trying to access its fields like title, etc. </p>
            
            <dl>
                
	

                
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.result}</code> <br /> <code>${core_controller.result_has_next}</code> <br /> <code>${core_controller.result_index}</code></dd>
    

                
    

                
<dt><a href="javascript:toggle('sc_Results');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Results">




<span class="directive">&lt;#macro&nbsp;Results&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(response.resultPacket.resultsWithTierBars)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;response.resultPacket.resultsWithTierBars&nbsp;as&nbsp;r&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;result&nbsp;=&nbsp;r&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;result_has_next&nbsp;=&nbsp;r_has_next&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;result_index&nbsp;=&nbsp;r_index&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="RSS">RSS</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables used to generate RSS links or buttons.
            
            <dl>
                
	

                
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.rssModernUrl}</code> <br /> <code>${core_controller.rssClassicUrl}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>RSS</dd>
    

                
<dt><a href="javascript:toggle('sc_RSS');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_RSS">




<span class="directive">&lt;#macro&nbsp;RSS&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;rssModernUrl&nbsp;=&nbsp;&quot;${SearchPrefix}rss.cgi?${changeParam(QueryString,&nbsp;'form',&nbsp;'rss')}&quot;&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;rssClassicUrl&nbsp;=&nbsp;&quot;${SearchPrefix}rss.cgi?${QueryString!}&quot;&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="RSSClassicUrl">RSSClassicUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the classic ui url for the RSS feed
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>RSS</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>RSS</dd>
    

                
<dt><a href="javascript:toggle('sc_RSSClassicUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_RSSClassicUrl">




<span class="directive">&lt;#macro&nbsp;RSSClassicUrl&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.rssClassicUrl)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.rssClassicUrl}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="RSSModernUrl">RSSModernUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the modern ui url for the RSS feed
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>RSS</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>RSS</dd>
    

                
<dt><a href="javascript:toggle('sc_RSSModernUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_RSSModernUrl">




<span class="directive">&lt;#macro&nbsp;RSSModernUrl&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.rssModernUrl)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.rssModernUrl}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="SearchHistory">SearchHistory</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Runs the nested code for each search history entry available under sesssions <p>The content will be evaluated once per search history entry.</p>
            
            <dl>
                
	

                
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.searchHistory}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Sessions</dd>
    

                
<dt><a href="javascript:toggle('sc_SearchHistory');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_SearchHistory">




<span class="directive">&lt;#macro&nbsp;SearchHistory&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;session.searchHistory&nbsp;as&nbsp;searchHistory&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;searchHistory&nbsp;=&nbsp;searchHistory&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Select">Select</a></tt>
            
    
        
            <code>name</code>
        
            <code>defaultValue</code>
        
            <code>options</code>
        
            <code>range</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Generates a HTML <code>&lt;select /&gt;</code> tags with options.
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>name</code> - Name of the select.<br>
			
				<code>defaultValue</code> - Default value to set when there's no CGI value.<br>
			
				<code>options</code> - List of option, either single strings that will be used as the name and value, or <code>value=label</code> strings.<br>
			
				<code>range</code> - Optional range expression to generate options.<br>
			
		</dd>
	

                
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.selectName}</code> <br /> <code>${core_controller.selectOptions}</code> <br /> <code>${core_controller.selectOptionRange}</code> <br /> <code>${core_controller.selectDefaultValue}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Select element</dd>
    

                
<dt><a href="javascript:toggle('sc_Select');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Select">




<span class="directive">&lt;#macro&nbsp;Select&nbsp;name&nbsp;defaultValue=&quot;&quot;&nbsp;options=[]&nbsp;range=&quot;&quot;&nbsp;&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;selectName&nbsp;=&nbsp;name&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;selectOptions&nbsp;=&nbsp;options&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;selectOptionRange&nbsp;=&nbsp;parseRange(range)&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;selectDefaultValue&nbsp;=&nbsp;defaultValue&nbsp;in&nbsp;.namespace&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Get&nbsp;the&nbsp;selected&nbsp;value&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;selectedValue&nbsp;=&nbsp;defaultValue&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;question.inputParameterMap[name]??&nbsp;&amp;&amp;&nbsp;question.inputParameterMap[name]&nbsp;!=&nbsp;&quot;&quot;&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;selectedValue&nbsp;=&nbsp;question.inputParameterMap[name]&nbsp;/&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;selectSelectedValue&nbsp;=&nbsp;selectedValue&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="SelectName">SelectName</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the name of the select.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Select</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Select element</dd>
    

                
<dt><a href="javascript:toggle('sc_SelectName');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_SelectName">




<span class="directive">&lt;#macro&nbsp;SelectName&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.selectName)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.selectName}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="SelectOptionName">SelectOptionName</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the option name.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Select</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Select element</dd>
    

                
<dt><a href="javascript:toggle('sc_SelectOptionName');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_SelectOptionName">




<span class="directive">&lt;#macro&nbsp;SelectOptionName&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.selectOptionName)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.selectOptionName}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="SelectOptions">SelectOptions</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables required for creating select options by iterating through each option that has been provided by the user. <p>The nested content will be evaluated once per option.</p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Select</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.selectOptionValue}</code> <br /> <code>${core_controller.selectOptionName}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Select element</dd>
    

                
<dt><a href="javascript:toggle('sc_SelectOptions');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_SelectOptions">




<span class="directive">&lt;#macro&nbsp;SelectOptions&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Used&nbsp;the&nbsp;options&nbsp;that&nbsp;is&nbsp;specified&nbsp;by&nbsp;the&nbsp;user&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.selectOptions)?has_content&nbsp;&amp;&amp;&nbsp;.namespace.selectOptions?size&nbsp;&amp;gt;&nbsp;0&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;.namespace.selectOptions&nbsp;as&nbsp;option&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Option&nbsp;is&nbsp;in&nbsp;the&nbsp;format&nbsp;of&nbsp;&lt;name&gt;=&lt;value&gt;&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;option?contains(&quot;=&quot;)&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;valueAndLabel&nbsp;=&nbsp;option?split(&quot;=&quot;)&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Ensure&nbsp;that&nbsp;the&nbsp;correct&nbsp;format&nbsp;has&nbsp;been&nbsp;used&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;valueAndLabel?size&nbsp;==&nbsp;2&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;selectOptionValue&nbsp;=&nbsp;parseRelativeDate(valueAndLabel[0])&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;selectOptionName&nbsp;=&nbsp;parseRelativeDate(valueAndLabel[1])&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Option's&nbsp;name&nbsp;and&nbsp;value&nbsp;are&nbsp;the&nbsp;same&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;selectOptionValue&nbsp;=&nbsp;parseRelativeDate(option)&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;selectOptionName&nbsp;=&nbsp;parseRelativeDate(option)&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--&nbsp;Used&nbsp;the&nbsp;range&nbsp;that&nbsp;is&nbsp;specified&nbsp;by&nbsp;the&nbsp;user&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.selectOptionRange)?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#list&nbsp;(.namespace.selectOptionRange.start)..(.namespace.selectOptionRange.end)&nbsp;as&nbsp;i&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">&lt;#--<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?c&nbsp;-This&nbsp;built-in&nbsp;converts&nbsp;a&nbsp;number&nbsp;to&nbsp;string&nbsp;for&nbsp;a&nbsp;&quot;computer&nbsp;language&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;opposed&nbsp;to&nbsp;for&nbsp;human&nbsp;audience.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;selectOptionValue&nbsp;=&nbsp;i?c&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;selectOptionName&nbsp;=&nbsp;i?c&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#list&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="SelectOptionValue">SelectOptionValue</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the option value.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Select</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Select element</dd>
    

                
<dt><a href="javascript:toggle('sc_SelectOptionValue');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_SelectOptionValue">




<span class="directive">&lt;#macro&nbsp;SelectOptionValue&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.selectOptionValue)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.selectOptionValue}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="SelectSelectedValue">SelectSelectedValue</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the value that has currently been selected.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Select</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Select element</dd>
    

                
<dt><a href="javascript:toggle('sc_SelectSelectedValue');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_SelectSelectedValue">




<span class="directive">&lt;#macro&nbsp;SelectSelectedValue&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.selectSelectedValue)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.selectSelectedValue}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ShortFacetLabel">ShortFacetLabel</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Sets up the namespace variables to display the facet title or value of the current category. <p> For hierarchical facets, displays the latest selected category. </p>
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Facets</dd>
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.shortFacetLabelName}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_ShortFacetLabel');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ShortFacetLabel">




<span class="directive">&lt;#macro&nbsp;ShortFacetLabel&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;deepest&nbsp;=&nbsp;.namespace.facet.findDeepestCategory(question.selectedCategoryValues?keys)!&quot;&quot;&gt;</span><span class="directive"></span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#if&nbsp;deepest&nbsp;!=&nbsp;&quot;&quot;&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;shortFacetLabelName&nbsp;=&nbsp;question.selectedCategoryValues[deepest.queryStringParamName]?first&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;#else&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;shortFacetLabelName&nbsp;=&nbsp;.namespace.facet.name!&quot;&quot;&nbsp;in&nbsp;.namespace&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive"></span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ShortFacetLabelName">ShortFacetLabelName</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Displays the short facet label for the current facet.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>ShortFacetLabel</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Faceted navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_ShortFacetLabelName');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ShortFacetLabelName">




<span class="directive">&lt;#macro&nbsp;ShortFacetLabelName&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.shortFacetLabelName)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.shortFacetLabelName}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ShowFewerClusters">ShowFewerClusters</a></tt>
            
    
        
            <code>category</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display - Runs the nested code if there is a less link available for the current contextual navigation cluster.
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>category</code> - Name of the category for contextual navigation (<code>type</code> , <code>site</code>, <code>topic</code>).<br>
			
		</dd>
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Clusters</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Contextual navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_ShowFewerClusters');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ShowFewerClusters">




<span class="directive">&lt;#macro&nbsp;ShowFewerClusters&nbsp;category&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;.namespace.category??&nbsp;&amp;&amp;&nbsp;.namespace.category.name&nbsp;==&nbsp;category&nbsp;&amp;&amp;&nbsp;.namespace.category.fewerLink??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="ShowMoreClusters">ShowMoreClusters</a></tt>
            
    
        
            <code>category</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Conditional display - Runs the nested code if there is a more link available for the current contextual navigation cluster.
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>category</code> - Name of the category for contextual navigation (<code>type</code> , <code>site</code>, <code>topic</code>).<br>
			
		</dd>
	

                
    
        <dt><b>Requires</b></dt>
        <dd>Clusters</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Contextual navigation</dd>
    

                
<dt><a href="javascript:toggle('sc_ShowMoreClusters');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_ShowMoreClusters">




<span class="directive">&lt;#macro&nbsp;ShowMoreClusters&nbsp;category&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;.namespace.category??&nbsp;&amp;&amp;&nbsp;.namespace.category.name&nbsp;==&nbsp;category&nbsp;&amp;&amp;&nbsp;.namespace.category.moreLink??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="StripHtml">StripHtml</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Strips html from string.
            
            <dl>
                
	

                
    

                
    
        <dt><b>Nested</b></dt>
        <dd>Content to strip html from.</dd>
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_StripHtml');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_StripHtml">




<span class="directive">&lt;#macro&nbsp;StripHtml&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;content&gt;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="directive">&lt;/#assign&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${content?replace(&quot;&lt;[^&gt;]*&gt;&quot;,&quot;&quot;,&quot;rm&quot;)}</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="SyntaxTreeSvgs">SyntaxTreeSvgs</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the SVGs used for the syntax tree.
            
            <dl>
                
	

                
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Syntax tree</dd>
    

                
<dt><a href="javascript:toggle('sc_SyntaxTreeSvgs');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_SyntaxTreeSvgs">




<span class="directive">&lt;#macro&nbsp;SyntaxTreeSvgs&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(response.resultPacket.svgs[&quot;syntaxtree&quot;])!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${response.resultPacket.svgs[&quot;syntaxtree&quot;]}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="TextMiner">TextMiner</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Setups the namespace variables to display Text Mining suggestions. <p> Text Mining in Funnelback involves extracting entities and definitions from textual data. Named entities include person names, organisations, products, geographic locations etc, as well as acronyms. </p>
            
            <dl>
                
	

                
    

                
    

                
    

                
    
        <dt><b>Provides</b></dt>
        <dd><code>${core_controller.textMinerUrl}</code> <br /> <code>${core_controller.textMinerEntity}</code> <br /> <code>${core_controller.textMinerDefinition}</code></dd>
    

                
    
        <dt><b>Category</b></dt>
        <dd>Textminer</dd>
    

                
<dt><a href="javascript:toggle('sc_TextMiner');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_TextMiner">




<span class="directive">&lt;#macro&nbsp;TextMiner&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;response.entityDefinition??&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;textMinerUrl&nbsp;=&nbsp;response.entityDefinition.url&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;textMinerEntity&nbsp;=&nbsp;response.entityDefinition.entity&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;textMinerDefinition&nbsp;=&nbsp;response.entityDefinition.definition&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="TextMinerDefinition">TextMinerDefinition</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the definition for the text miner entry.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>TextMiner</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Textminer</dd>
    

                
<dt><a href="javascript:toggle('sc_TextMinerDefinition');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_TextMinerDefinition">




<span class="directive">&lt;#macro&nbsp;TextMinerDefinition&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.textMinerDefinition)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.textMinerDefinition}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="TextMinerEntity">TextMinerEntity</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the entity for the text miner entry.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>TextMiner</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Textminer</dd>
    

                
<dt><a href="javascript:toggle('sc_TextMinerEntity');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_TextMinerEntity">




<span class="directive">&lt;#macro&nbsp;TextMinerEntity&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.textMinerEntity)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.textMinerEntity}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="TextMinerUrl">TextMinerUrl</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Prints the url for the text miner entry.
            
            <dl>
                
	

                
    
        <dt><b>Requires</b></dt>
        <dd>TextMiner</dd>
    

                
    

                
    

                
    

                
    
        <dt><b>Category</b></dt>
        <dd>Textminer</dd>
    

                
<dt><a href="javascript:toggle('sc_TextMinerUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_TextMinerUrl">




<span class="directive">&lt;#macro&nbsp;TextMinerUrl&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#if&nbsp;(.namespace.textMinerUrl)!?has_content&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${.namespace.textMinerUrl}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#if&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="Truncate">Truncate</a></tt>
            
    
        
            <code>length</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Truncate a string on word boundaries.
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>length</code> - Length to keep.<br>
			
		</dd>
	

                
    

                
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_Truncate');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_Truncate">




<span class="directive">&lt;#macro&nbsp;Truncate&nbsp;length&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;value&gt;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="directive">&lt;/#local&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${truncate(value,&nbsp;length)}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="TruncateHTML">TruncateHTML</a></tt>
            
    
        
            <code>length</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Truncate a string on word boundaries. <p>If the string contains HTML it'll try to preserve its validity.</p>
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>length</code> - Length to keep.<br>
			
		</dd>
	

                
    

                
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_TruncateHTML');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_TruncateHTML">




<span class="directive">&lt;#macro&nbsp;TruncateHTML&nbsp;length&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;value&gt;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="directive">&lt;/#local&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${truncateHTML(value,&nbsp;length)}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="TruncateUrl">TruncateUrl</a></tt>
            
    
        
            <code>length</code>
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Truncate an URL in a sensible way. <p> This tag will attempt to break the Url up over maximum of two lines, only breaking on slashes. </p>
            
            <dl>
                
	
		<dt>
			<b>Parameters</b>
		</dt>
		<dd>
			
				<code>length</code> - Length to keep.<br>
			
		</dd>
	

                
    

                
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_TruncateUrl');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_TruncateUrl">




<span class="directive">&lt;#macro&nbsp;TruncateUrl&nbsp;length&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#noescape&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#local&nbsp;value&gt;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="directive">&lt;/#local&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${truncateUrl(value,&nbsp;length)}</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;/#noescape&gt;</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    <hr>

    <dl>
        <dt>
            macro
            <tt><a name="UrlEncode">UrlEncode</a></tt>
            
    
        
        
    

            <br /><br />
        </dt>
        <dd>
            
                 Encodes a String in Url format.
            
            <dl>
                
	

                
    

                
    
        <dt><b>Nested</b></dt>
        <dd>Content to encode.</dd>
    

                
    

                
    

                
    

                
<dt><a href="javascript:toggle('sc_UrlEncode');">Source Code</a></dt>
<dd>
<div class="sourcecode" id="sc_UrlEncode">




<span class="directive">&lt;#macro&nbsp;UrlEncode&gt;</span><span class="directive">&lt;#compress&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="directive">&lt;#assign&nbsp;content&gt;</span><span class="directive">&lt;#nested&gt;</span><span class="directive"></span><span class="directive">&lt;/#assign&gt;</span><span class="textblock"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="interpolation">${content?url}</span><span class="textblock"><br></span><span class="directive">&lt;/#compress&gt;</span><span class="directive">&lt;/#macro&gt;</span>



</div>
</dd>

            </dl>
        </dd>
    </dl>
    




</div>
</body>
</html>








